<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>Sinatra &amp; REST | Welcome to GA&#39;s WDI-DC</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.5.1">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="../../gitbook/style.css">
    
        
        <link rel="stylesheet" href="../../gitbook/plugins/gitbook-plugin-highlight/website.css">
        
    
        
        <link rel="stylesheet" href="../../gitbook/plugins/gitbook-plugin-search/search.css">
        
    
        
        <link rel="stylesheet" href="../../gitbook/plugins/gitbook-plugin-fontsettings/website.css">
        
    
    

        
    
    
    <link rel="next" href="../../04-ruby-mvc-sinatra/sinatra-and-activerecord/readme.html" />
    
    
    <link rel="prev" href="../../04-ruby-mvc-sinatra/active-record-intro/readme.html" />
    

        
    </head>
    <body>
        
        
    <div class="book" data-level="3.7" data-chapter-title="Sinatra &amp; REST" data-filepath="04-ruby-mvc-sinatra/sinatra-rest/readme.md" data-basepath="../.." data-revision="Mon Nov 02 2015 20:38:31 GMT+0000 (UTC)">
    

<div class="book-summary">
    <nav role="navigation">
        <ul class="summary">
            
            
            
            

            

            
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../../index.html">
                
                        <i class="fa fa-check"></i>
                        
                        An Introduction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="01-front-end-fundamentals/readme.html">
            
                
                    <a href="../../01-front-end-fundamentals/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        Front End Fundamentals
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1" data-path="01-front-end-fundamentals/command-line/readme.html">
            
                
                    <a href="../../01-front-end-fundamentals/command-line/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                        Command Line Interface
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="01-front-end-fundamentals/git/readme.html">
            
                
                    <a href="../../01-front-end-fundamentals/git/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.</b>
                        
                        Git
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="01-front-end-fundamentals/intro-to-web-and-html/readme.html">
            
                
                    <a href="../../01-front-end-fundamentals/intro-to-web-and-html/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.3.</b>
                        
                        Intro to Web and HTML
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="01-front-end-fundamentals/css/readme.html">
            
                
                    <a href="../../01-front-end-fundamentals/css/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.4.</b>
                        
                        CSS
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="01-front-end-fundamentals/javascript-data-types/readme.html">
            
            <span><b>1.5.</b> JavaScript Data Types</span>
            
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="01-front-end-fundamentals/javascript-loops-conditionals/readme.html">
            
            <span><b>1.6.</b> JavaScript Loops and Conditionals</span>
            
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="01-front-end-fundamentals/javascript-objects-functions/readme.html">
            
                
                    <a href="../../01-front-end-fundamentals/javascript-objects-functions/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.7.</b>
                        
                        JavaScript Objects and Functions
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="01-front-end-fundamentals/javascript-DOM/readme.html">
            
                
                    <a href="../../01-front-end-fundamentals/javascript-DOM/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.8.</b>
                        
                        JavaScript DOM
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2" data-path="02-intermediate-front-end/readme.html">
            
                
                    <a href="../../02-intermediate-front-end/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        Intermediate Front End
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="02-intermediate-front-end/scope-context-closures/readme.html">
            
                
                    <a href="../../02-intermediate-front-end/scope-context-closures/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                        Scope, Context, and Closures
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1" data-path="02-intermediate-front-end/scope-context-closures/scope.html">
            
                
                    <a href="../../02-intermediate-front-end/scope-context-closures/scope.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.1.</b>
                        
                        Scope
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.1.2" data-path="02-intermediate-front-end/scope-context-closures/context.html">
            
                
                    <a href="../../02-intermediate-front-end/scope-context-closures/context.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.2.</b>
                        
                        Context
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.1.3" data-path="02-intermediate-front-end/scope-context-closures/closures.html">
            
                
                    <a href="../../02-intermediate-front-end/scope-context-closures/closures.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.3.</b>
                        
                        Closures
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="02-intermediate-front-end/events-and-callbacks/readme.html">
            
                
                    <a href="../../02-intermediate-front-end/events-and-callbacks/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                        Events and Callbacks
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="02-intermediate-front-end/git_branching/readme.html">
            
                
                    <a href="../../02-intermediate-front-end/git_branching/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.</b>
                        
                        Git Branching
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="02-intermediate-front-end/jquery/jquery-intro-selectors.html">
            
                
                    <a href="../../02-intermediate-front-end/jquery/jquery-intro-selectors.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.4.</b>
                        
                        jQuery
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="02-intermediate-front-end/jquery/jquery-two.html">
            
                
                    <a href="../../02-intermediate-front-end/jquery/jquery-two.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.5.</b>
                        
                        jQuery 2
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="02-intermediate-front-end/workflows/lesson_plan.html">
            
            <span><b>2.6.</b> Workflows</span>
            
            
        </li>
    
        <li class="chapter " data-level="2.7" data-path="02-intermediate-front-end/css2/readme.html">
            
                
                    <a href="../../02-intermediate-front-end/css2/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.7.</b>
                        
                        CSS 2 (Layout &amp; Fonts)
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" data-path="04-ruby-mvc-sinatra/readme.html">
            
                
                    <a href="../../04-ruby-mvc-sinatra/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        Ruby + MVC with Sinatra
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1" data-path="04-ruby-mvc-sinatra/ruby-basics/readme.html">
            
                
                    <a href="../../04-ruby-mvc-sinatra/ruby-basics/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                        Ruby Basics
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="04-ruby-mvc-sinatra/ruby-enumerables/readme.html">
            
                
                    <a href="../../04-ruby-mvc-sinatra/ruby-enumerables/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.</b>
                        
                        Ruby Enumerables
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="04-ruby-mvc-sinatra/problem_modeling/readme.html">
            
            <span><b>3.3.</b> Problem Modeling</span>
            
            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="04-ruby-mvc-sinatra/domain_modeling/readme.html">
            
                
                    <a href="../../04-ruby-mvc-sinatra/domain_modeling/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.4.</b>
                        
                        Domain Modeling
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.5" data-path="04-ruby-mvc-sinatra/databases/readme.html">
            
                
                    <a href="../../04-ruby-mvc-sinatra/databases/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.5.</b>
                        
                        Databases
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.6" data-path="04-ruby-mvc-sinatra/active-record-intro/readme.html">
            
                
                    <a href="../../04-ruby-mvc-sinatra/active-record-intro/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.6.</b>
                        
                        Active Record
                    </a>
            
            
        </li>
    
        <li class="chapter active" data-level="3.7" data-path="04-ruby-mvc-sinatra/sinatra-rest/readme.html">
            
                
                    <a href="../../04-ruby-mvc-sinatra/sinatra-rest/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.7.</b>
                        
                        Sinatra &amp; REST
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.8" data-path="04-ruby-mvc-sinatra/sinatra-and-activerecord/readme.html">
            
                
                    <a href="../../04-ruby-mvc-sinatra/sinatra-and-activerecord/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.8.</b>
                        
                        Sinatra &amp; Active Record
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4" data-path="05-mvc-with-rails/readme.html">
            
                
                    <a href="../../05-mvc-with-rails/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        MVC with Rails
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1" data-path="05-mvc-with-rails/unit_testing_with_rspec/readme.html">
            
                
                    <a href="../../05-mvc-with-rails/unit_testing_with_rspec/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.</b>
                        
                        Unit Testing with RSpec
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="05-mvc-with-rails/MVC-intro-to-rails/readme.html">
            
                
                    <a href="../../05-mvc-with-rails/MVC-intro-to-rails/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.2.</b>
                        
                        MVC Intro to Rails
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="05-mvc-with-rails/rails-models-and-migrations/readme.html">
            
                
                    <a href="../../05-mvc-with-rails/rails-models-and-migrations/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.3.</b>
                        
                        Models and Migrations
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="05-mvc-with-rails/rails-views-and-controllers/readme.html">
            
                
                    <a href="../../05-mvc-with-rails/rails-views-and-controllers/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.4.</b>
                        
                        Views and Controllers
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.5" data-path="05-mvc-with-rails/rails-routes-and-resources/readme.html">
            
                
                    <a href="../../05-mvc-with-rails/rails-routes-and-resources/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.5.</b>
                        
                        Routes and Resources
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.6" data-path="05-mvc-with-rails/rails-helpers/readme.html">
            
                
                    <a href="../../05-mvc-with-rails/rails-helpers/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.6.</b>
                        
                        Helpers
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.7" data-path="05-mvc-with-rails/rails-sessions-and-auth/readme.html">
            
                
                    <a href="../../05-mvc-with-rails/rails-sessions-and-auth/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.7.</b>
                        
                        Sessions and Auth
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.8" data-path="05-mvc-with-rails/rails-deployment/readme.html">
            
                
                    <a href="../../05-mvc-with-rails/rails-deployment/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.8.</b>
                        
                        Deployment
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5" data-path="07-uxdi-collaboration/readme.html">
            
                
                    <a href="../../07-uxdi-collaboration/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        UXDI Collaboration: The Interactive Web
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1" data-path="07-uxdi-collaboration/apis/readme.html">
            
                
                    <a href="../../07-uxdi-collaboration/apis/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.1.</b>
                        
                        APIs
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="07-uxdi-collaboration/ajax/readme.html">
            
                
                    <a href="../../07-uxdi-collaboration/ajax/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.2.</b>
                        
                        Ajax
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="07-uxdi-collaboration/grids/readme.html">
            
                
                    <a href="../../07-uxdi-collaboration/grids/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.3.</b>
                        
                        Grid Systems
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.4" data-path="07-uxdi-collaboration/animations/readme.html">
            
                
                    <a href="../../07-uxdi-collaboration/animations/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.4.</b>
                        
                        Animations
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.5" data-path="07-uxdi-collaboration/responsive-web-design/readme.html">
            
                
                    <a href="../../07-uxdi-collaboration/responsive-web-design/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.5.</b>
                        
                        Responsive Web Design
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="6" data-path="08-single-page-web-apps/readme.html">
            
                
                    <a href="../../08-single-page-web-apps/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                        &quot;Single Page&quot; Web Applications
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.1" data-path="08-single-page-web-apps/express_intro/readme.html">
            
                
                    <a href="../../08-single-page-web-apps/express_intro/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.</b>
                        
                        Intro to Express
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="08-single-page-web-apps/express_routing/readme.html">
            
                
                    <a href="../../08-single-page-web-apps/express_routing/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.2.</b>
                        
                        Express Routing
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="7" data-path="10-back-and-front-of-front-end/readme.html">
            
                
                    <a href="../../10-back-and-front-of-front-end/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.</b>
                        
                        Back and Front of Front End
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="7.1" >
            
            <span><b>7.1.</b> BackBone</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="7.1.1" data-path="10-back-and-front-of-front-end/bb_models_collections/readme.html">
            
                
                    <a href="../../10-back-and-front-of-front-end/bb_models_collections/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.1.1.</b>
                        
                        Models and Collections
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.1.2" data-path="10-back-and-front-of-front-end/bb_views_part1/readme.html">
            
                
                    <a href="../../10-back-and-front-of-front-end/bb_views_part1/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.1.2.</b>
                        
                        Views (part 1)
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.1.3" data-path="10-back-and-front-of-front-end/bb_views_part2/readme.html">
            
                
                    <a href="../../10-back-and-front-of-front-end/bb_views_part2/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.1.3.</b>
                        
                        Views (part 2)
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.1.4" data-path="10-back-and-front-of-front-end/bb_routers/readme.html">
            
                
                    <a href="../../10-back-and-front-of-front-end/bb_routers/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.1.4.</b>
                        
                        Routers
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="7.2" >
            
            <span><b>7.2.</b> Front End</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="7.2.1" data-path="10-back-and-front-of-front-end/bootstrap/readme.html">
            
                
                    <a href="../../10-back-and-front-of-front-end/bootstrap/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.2.1.</b>
                        
                        Bootstrap
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.2.2" data-path="10-back-and-front-of-front-end/flexbox/readme.html">
            
                
                    <a href="../../10-back-and-front-of-front-end/flexbox/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.2.2.</b>
                        
                        Flex Box
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.2.3" data-path="10-back-and-front-of-front-end/foundation/readme.html">
            
                
                    <a href="../../10-back-and-front-of-front-end/foundation/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.2.3.</b>
                        
                        Foundation
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.2.4" data-path="10-back-and-front-of-front-end/intro-to-php/readme.html">
            
                
                    <a href="../../10-back-and-front-of-front-end/intro-to-php/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.2.4.</b>
                        
                        Intro to PHP
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.2.5" data-path="10-back-and-front-of-front-end/jquery-plugins/readme.html">
            
                
                    <a href="../../10-back-and-front-of-front-end/jquery-plugins/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.2.5.</b>
                        
                        jQuery Plugins
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.2.6" data-path="10-back-and-front-of-front-end/mapping/readme.html">
            
                
                    <a href="../../10-back-and-front-of-front-end/mapping/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.2.6.</b>
                        
                        Mapping
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.2.7" data-path="10-back-and-front-of-front-end/pseudo-selectors/readme.html">
            
                
                    <a href="../../10-back-and-front-of-front-end/pseudo-selectors/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.2.7.</b>
                        
                        Pseudo Selectors
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.2.8" data-path="10-back-and-front-of-front-end/sass1-basic-reuse/readme.html">
            
                
                    <a href="../../10-back-and-front-of-front-end/sass1-basic-reuse/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.2.8.</b>
                        
                        Sass 1: Basic Reuse
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.2.9" data-path="10-back-and-front-of-front-end/sass2-control-directives/readme.html">
            
                
                    <a href="../../10-back-and-front-of-front-end/sass2-control-directives/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.2.9.</b>
                        
                        Sass 2: Control Directives
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="8" data-path="11-angular/readme.html">
            
                
                    <a href="../../11-angular/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.</b>
                        
                        MVW with Angular
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="8.1" data-path="11-angular/angular_intro_controllers_directives/readme.html">
            
                
                    <a href="../../11-angular/angular_intro_controllers_directives/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.1.</b>
                        
                        Angular Intro: Controllers &amp; Directives
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.2" data-path="11-angular/services_templates_and_routing/readme.html">
            
                
                    <a href="../../11-angular/services_templates_and_routing/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.2.</b>
                        
                        Services, Templates, and Routing
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.3" data-path="11-angular/custom_directives/readme.html">
            
                
                    <a href="../../11-angular/custom_directives/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.3.</b>
                        
                        Custom Directives
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.4" data-path="11-angular/firebase_in_angular/readme.html">
            
                
                    <a href="../../11-angular/firebase_in_angular/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.4.</b>
                        
                        AngularFire: Firebase &amp; Angular
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.5" data-path="11-angular/angular-vs-rails.html">
            
                
                    <a href="../../11-angular/angular-vs-rails.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.5.</b>
                        
                        Angular vs. Rails
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    


            
            <li class="divider"></li>
            <li>
                <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                    Published with GitBook
                </a>
            </li>
            
        </ul>
    </nav>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header" role="navigation">
    <!-- Actions Left -->
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../../" >Welcome to GA&#39;s WDI-DC</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1" role="main">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h1 id="sinatra--rest">Sinatra &amp; REST</h1>
<ul>
<li>Explain what REST is and why we use it</li>
<li>List the HTTP request verbs</li>
<li>Describe what Sinatra is and what it is used for</li>
<li>Distinguish between a route and a path</li>
<li>Build a Sinatra app that responds to HTTP requests</li>
<li>Define routes using Sinatra</li>
<li>Define routes with URL parameters and access those parameters</li>
<li>Use erb to create reusable views and templates</li>
<li>Access data from global params hash</li>
<li>Use a global template - layout.erb</li>
<li>Use forms to submit POST and GET requests</li>
</ul>
<h2 id="opening-framing">Opening Framing</h2>
<p>We&apos;ve learned about databases using SQL. We&apos;ve also learned about objects in ruby. But we haven&apos;t seen any HTML since Unit 1! What gives? How are we going to display all of the things in our database? How can we create a UI to execute CRUD functionality on our different ruby objects?</p>
<p>Sinatra is a <strong>DSL</strong> for quickly creating web applications in Ruby with minimal effort.</p>
<p>A Domain-Specific Language is something defined by the makers of an application to standardize how others interact with their application.</p>
<p>This is similar to how in jQuery you begin everything with <code>$</code> -- you&apos;re still writing Javascript, but you&apos;re writing it in a specific way in order to interact with this thing someone else built.</p>
<p>Following from that, Sinatra is to web apps what jQuery is to webpages. We have this idea of REST methods send to paths making things happen -- Sinatra is one way of turning that concept into reality. Other ways include Rails, Node.js, Django, PHP, etc.</p>
<h3 id="useful-links">Useful Links</h3>
<ul>
<li><a href="http://www.sinatrarb.com/intro.html" target="_blank">Intro to Sinatra</a></li>
<li><a href="http://www.sinatrarb.com/wild.html" target="_blank">Sinatra in the wild</a></li>
<li><a href="http://www.sinatrarb.com/documentation.html" target="_blank">Sinatra Documentation</a></li>
<li><a href="http://recipes.sinatrarb.com/" target="_blank">Sinatra Recipes</a></li>
</ul>
<h1 id="your-very-first-sinatra-app">Your very first Sinatra app!</h1>
<p>Let&apos;s create a folder to work in. Create a file called <code>app.rb</code>. The file name doesn&apos;t matter, but it&apos;s easier if we all use the same one.</p>
<pre><code class="lang-bash">$ mkdir sinatra_intro
$ <span class="hljs-built_in">cd</span> sinatra_intro
$ touch app.rb
</code></pre>
<p>Inside <code>app.rb</code>, write:</p>
<pre><code class="lang-ruby"><span class="hljs-keyword">require</span> <span class="hljs-string">&apos;sinatra&apos;</span>

get <span class="hljs-string">&apos;/&apos;</span> <span class="hljs-keyword">do</span>
  <span class="hljs-keyword">return</span> <span class="hljs-string">&apos;Hello world!&apos;</span>
<span class="hljs-keyword">end</span>
</code></pre>
<p>We&apos;ll talk about what <code>get</code> means later on.</p>
<p>Now, in your console, run the file the way you&apos;d run any Ruby file:</p>
<pre><code class="lang-sh">$ ruby app.rb
</code></pre>
<p>You should see something like:</p>
<pre><code>[2015-10-30 13:57:04] INFO  WEBrick 1.3.1
[2015-10-30 13:57:04] INFO  ruby 2.2.1 (2015-02-26) [x86_64-darwin14]
== Sinatra (v1.4.6) has taken the stage on 4567 for development with backup from WEBrick
</code></pre><blockquote>
<p>See the &quot;has taken the stage&quot; thing? There&apos;ll be lots of little Sinatra puns here and there.</p>
</blockquote>
<p>Believe it or not, that&apos;s it! You now have a server running on your computer. It can respond to requests, just like any other server. To test that out, go to <code>localhost:4567</code> in your browser. You should see &quot;Hello world!&quot;</p>
<blockquote>
<p>Note that this isn&apos;t a server anyone else can see, but it&apos;s still a server.</p>
</blockquote>
<h3 id="where-does-that-4567-come-from">Where does that <code>4567</code> come from?</h3>
<p>This is the <strong>port number</strong> of the server we&apos;re using. Don&apos;t worry about it too much -- just know that to access a Sinatra app on your computer you&apos;ll always use <code>localhost:4567</code>, unless someone changes it.</p>
<h3 id="the-url">The URL</h3>
<p>The <code>/</code> in <code>get &apos;/&apos;</code> is the URL to which someone needs to go to make this bit of Ruby run.</p>
<p>Change it to <code>get &apos;/hi&apos;</code>:</p>
<pre><code class="lang-ruby"><span class="hljs-keyword">require</span> <span class="hljs-string">&apos;sinatra&apos;</span>

get <span class="hljs-string">&apos;/hi&apos;</span> <span class="hljs-keyword">do</span>
  <span class="hljs-keyword">return</span> <span class="hljs-string">&apos;Hello world!&apos;</span>
<span class="hljs-keyword">end</span>
</code></pre>
<p>Now refresh your browser, which should be at <code>localhost:4567/</code>. You should get a page saying &quot;Sinatra doesn&apos;t know this ditty.&quot; That&apos;s Sinatra&apos;s 404 page. It&apos;s saying, &quot;I don&apos;t know what to do when someone goes to <code>/</code>&quot;.</p>
<p>So instead, try going to <code>localhost:4567/hi</code>. Now you should get your &quot;Hello world!&quot;. You&apos;ve told Sinatra, &quot;When someone goes to this URL, run this bit of Ruby.&quot;</p>
<p>Change your code back to <code>get &apos;/&apos;</code> for now -- it&apos;s less to type.</p>
<h2 id="the-console">The Console</h2>
<h3 id="refresh-that-hello-world-page-in-your-browser">Refresh that &quot;hello world&quot; page in your browser</h3>
<p>Watch your terminal as you do so. See how the tab with Sinatra in it updates every time? This is your <strong>server log</strong>. Sinatra automatically tells Ruby to <code>puts</code> some information it thinks you might find useful every time you get an HTTP request.</p>
<p>The server log is super-useful! Right underneath <code>get &apos;/&apos; do</code>, write <code>puts &quot;Hi there&quot;</code>.</p>
<pre><code class="lang-ruby"><span class="hljs-keyword">require</span> <span class="hljs-string">&apos;sinatra&apos;</span>

get <span class="hljs-string">&apos;/&apos;</span> <span class="hljs-keyword">do</span>
  puts <span class="hljs-string">&apos;Hi there&apos;</span>
  <span class="hljs-keyword">return</span> <span class="hljs-string">&apos;Hello world!&apos;</span>
<span class="hljs-keyword">end</span>
</code></pre>
<p>Now quit Sinatra with <strong>Control + C</strong> and restart it with <code>ruby app.rb</code>. Refresh your webpage a couple times. See how it prints &quot;Hi there&quot; each time?</p>
<h4 id="puts-hi-there-has-to-come-before-return-hello-world-why"><code>puts &quot;Hi there&quot;</code> has to come before <code>return &apos;Hello world!&apos;</code>. Why?</h4>
<h4 id="what-happens-if-you-remove-the-return-and-just-have-hello-world-why">What happens if you remove the <code>return</code> and just have <code>&apos;Hello world!&apos;</code>? Why?</h4>
<h2 id="getting-user-input">Getting user input</h2>
<p>Let&apos;s make this app dynamic and have it say your name. So far, the way we&apos;d do that is by adding <code>gets.chomp</code>. Let&apos;s try that here:</p>
<pre><code class="lang-rb"><span class="hljs-keyword">require</span> <span class="hljs-string">&apos;sinatra&apos;</span>

get <span class="hljs-string">&apos;/&apos;</span> <span class="hljs-keyword">do</span>
  name = gets.chomp
  <span class="hljs-keyword">return</span> <span class="hljs-string">&apos;Hi there, <span class="hljs-subst">#{name}</span>!&apos;</span>
<span class="hljs-keyword">end</span>
</code></pre>
<p>Quit and restart Sinatra, and refresh <code>localhost:4567</code>.</p>
<p>Notice how the webpage is still loading? The spinner is still going round and round. It&apos;s doing that because the server is all hung up: Ruby won&apos;t let it do anything until we&apos;ve entered some input for <code>gets</code>.</p>
<p>So try writing your name in the Terminal console, then hitting return.</p>
<h4 id="we-have-a-way-of-getting-user-input-but-wed-never-use-gets-on-an-actual-web-app-why-not">We have a way of getting user input... But we&apos;d never use <code>gets</code> on an actual web app. Why not?</h4>
<p>Because (hopefully) no-one else will be able to access your server log!</p>
<p><strong>You will never have any reason to use <code>gets</code> again.</strong> So don&apos;t!</p>
<h2 id="path-parameters">Path Parameters</h2>
<p>Change <code>get &apos;/&apos;</code> to <code>get &apos;/:name&apos;</code>:</p>
<pre><code class="lang-rb"><span class="hljs-keyword">require</span> <span class="hljs-string">&apos;sinatra&apos;</span>

get <span class="hljs-string">&apos;/:name&apos;</span> <span class="hljs-keyword">do</span>
  <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Hi there, <span class="hljs-subst">#{params[<span class="hljs-symbol">:name</span>]}</span>!&quot;</span>
<span class="hljs-keyword">end</span>
</code></pre>
<h3 id="experiment-1">Experiment 1</h3>
<p>Now go to <code>localhost:4567/yourname</code>. See your name show up?</p>
<h4 id="now-go-to-what-you-may-have-expected-localhost4567name-what-shows-up">Now go to what you may have expected, <code>localhost:4567/:name</code>. What shows up?</h4>
<h3 id="experiment-2">Experiment 2</h3>
<p>Now change it to <code>get &apos;/test:name&apos;</code>. </p>
<pre><code class="lang-rb"><span class="hljs-keyword">require</span> <span class="hljs-string">&apos;sinatra&apos;</span>

get <span class="hljs-string">&apos;/say_hi:name&apos;</span> <span class="hljs-keyword">do</span>
  <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Hi there, <span class="hljs-subst">#{params[<span class="hljs-symbol">:name</span>]}</span>!&quot;</span>
<span class="hljs-keyword">end</span>
</code></pre>
<p>Go to <code>localhost:4567/say_hirobin</code>. You should see &quot;robin&quot; show up!</p>
<h3 id="experiment-3">Experiment 3</h3>
<p>One last experiment: change it to <code>get &apos;/say_hi:name/hello</code>.</p>
<pre><code class="lang-rb"><span class="hljs-keyword">require</span> <span class="hljs-string">&apos;sinatra&apos;</span>

get <span class="hljs-string">&apos;/say_hi:name/hello&apos;</span> <span class="hljs-keyword">do</span>
  <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Hi there, <span class="hljs-subst">#{params[<span class="hljs-symbol">:name</span>]}</span>!&quot;</span>
<span class="hljs-keyword">end</span>
</code></pre>
<p>Go to <code>localhost:4567/say_hirobin/hello</code>. It still shows &quot;robin&quot;!</p>
<h3 id="experiment-4">Experiment 4</h3>
<p>Now change it to <code>get &apos;/say_hi/:name&apos;</code>. </p>
<pre><code class="lang-rb"><span class="hljs-keyword">require</span> <span class="hljs-string">&apos;sinatra&apos;</span>

get <span class="hljs-string">&apos;/say_hi:name/hello&apos;</span> <span class="hljs-keyword">do</span>
  <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Hi there, <span class="hljs-subst">#{params[<span class="hljs-symbol">:name</span>]}</span>!&quot;</span>
<span class="hljs-keyword">end</span>
</code></pre>
<p>Go to <code>localhost:4567/say_hi/robin</code>. Still works?</p>
<h3 id="the-params-hash">The params hash</h3>
<p>Putting a colon <code>:</code> in front of <code>name</code> turned it into a variable called a path parameter.</p>
<p>This works similarly to Ruby methods and Javascript functions. For example:</p>
<pre><code class="lang-ruby"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">say_hi</span> <span class="hljs-title">name</span></span>
  puts <span class="hljs-string">&quot;Hi there, <span class="hljs-subst">#{name}</span>!&quot;</span>
<span class="hljs-keyword">end</span>
</code></pre>
<pre><code class="lang-js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">say_hi</span>(<span class="hljs-params">name</span>)</span>{
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;Hi there, &quot;</span> + name + <span class="hljs-string">&quot;!&quot;</span>);
}
</code></pre>
<p>This is a <code>say_hi</code> method that has an argument called <code>name</code>. An argument lets us pass some data into the method so the method can manipulate the data somehow.</p>
<p><code>params</code> is a hash that is generated with every request made to your server. It contains any path parameters -- and some other stuff, as we&apos;ll see later.</p>
<p>Now try going to <code>localhost:4567/say_hi</code> without your name at the end. We get a 404 page. This is because we&apos;re telling Sinatra, &quot;Hey, this path will always have this parameter in it.&quot; Sinatra doesn&apos;t have a path defined <em>without</em> a path parameter,so it throws an error.</p>
<p>The same thing happens if you go to <code>localhost:4567/yourname/lastname</code>: Sinatra doesn&apos;t have a path defined that has two path parameters.</p>
<h3 id="moar-paths">Moar Paths</h3>
<p>Let&apos;s make two more paths: one with no path params, and one with two path params.</p>
<pre><code class="lang-rb"><span class="hljs-keyword">require</span> <span class="hljs-string">&apos;sinatra&apos;</span>

get <span class="hljs-string">&apos;/&apos;</span> <span class="hljs-keyword">do</span>
  <span class="hljs-string">&quot;Hi there!&quot;</span>
<span class="hljs-keyword">end</span>

get <span class="hljs-string">&apos;/:name&apos;</span> <span class="hljs-keyword">do</span>
  <span class="hljs-string">&quot;Good to see you, <span class="hljs-subst">#{params[<span class="hljs-symbol">:name</span>]}</span>.&quot;</span>
<span class="hljs-keyword">end</span>

get <span class="hljs-string">&apos;/:firstname/:lastname&apos;</span> <span class="hljs-keyword">do</span>
  <span class="hljs-string">&quot;Your name is <span class="hljs-subst">#{params[<span class="hljs-symbol">:lastname</span>]}</span>. <span class="hljs-subst">#{params[<span class="hljs-symbol">:firstname</span>]}</span> <span class="hljs-subst">#{params[<span class="hljs-symbol">:lastname</span>]}</span>&quot;</span>
<span class="hljs-keyword">end</span>
</code></pre>
<p>Try putting some HTML in one of those strings, like <code>&quot;&lt;h1&gt;Hi there!&lt;/h1&gt;&quot;</code>. It works! </p>
<p>We already have an app that generates different HTML based on user input. This is your first back-end app!</p>
<p>Obviously writing <code>DOCTYPE</code> and everything else in here would get really annoying, so later we&apos;ll learn how to use Sinatra templates.</p>
<h3 id="im-getting-tired-of-quitting-and-restarting">I&apos;m getting tired of quitting and restarting.</h3>
<p>Fortunately, there&apos;s a gem that will automatically restart Sinatra every time a change is made to your <code>app.rb</code>.</p>
<p>Let&apos;s create a Gemfile:</p>
<pre><code class="lang-ruby">source <span class="hljs-string">&apos;https://rubygems.org/&apos;</span>

gem <span class="hljs-string">&apos;sinatra&apos;</span>
gem <span class="hljs-string">&apos;sinatra-contrib&apos;</span>
</code></pre>
<blockquote>
<p>Sinatra-contrib is a gem that packages a lot of functionality. One of those functionalities is <code>sinatra/reloader</code>, which detects every time you save your <code>app.rb</code> file and restarts the server so that it uses the newest version of the file.</p>
</blockquote>
<p><code>bundle install</code>, and require sinatra&apos;s reloader in your <code>app.rb</code>:</p>
<p>This should create a <code>Gemfile.lock</code>, which you don&apos;t need to touch.</p>
<pre><code class="lang-ruby"><span class="hljs-keyword">require</span> <span class="hljs-string">&apos;sinatra&apos;</span>
<span class="hljs-keyword">require</span> <span class="hljs-string">&apos;sinatra/reloader&apos;</span>

get <span class="hljs-string">&apos;/&apos;</span> <span class="hljs-keyword">do</span>
  <span class="hljs-string">&quot;&lt;h1&gt;Hi there!&lt;/h1&gt;&quot;</span>
<span class="hljs-keyword">end</span>

get <span class="hljs-string">&apos;/:name&apos;</span> <span class="hljs-keyword">do</span>
  <span class="hljs-string">&quot;Good to see you, <span class="hljs-subst">#{params[<span class="hljs-symbol">:name</span>]}</span>.&quot;</span>
<span class="hljs-keyword">end</span>

get <span class="hljs-string">&apos;/:firstname/:lastname&apos;</span> <span class="hljs-keyword">do</span>
  <span class="hljs-string">&quot;Your name is <span class="hljs-subst">#{params[<span class="hljs-symbol">:lastname</span>]}</span>. <span class="hljs-subst">#{params[<span class="hljs-symbol">:firstname</span>]}</span> <span class="hljs-subst">#{params[<span class="hljs-symbol">:lastname</span>]}</span>&quot;</span>
<span class="hljs-keyword">end</span>
</code></pre>
<h2 id="you-do-99-bottles-of-beer">You do: 99 Bottles of Beer</h2>
<p><a href="https://github.com/ga-dc/99_bottles_of_beer" target="_blank">https://github.com/ga-dc/99_bottles_of_beer</a></p>
<h1 id="break">BREAK</h1>
<h1 id="rest">REST</h1>
<p>Now that we&apos;ve had a break, we&apos;ll take a REST! (<em>Pause for effect.</em>)</p>
<p>We&apos;ve been seeing that <code>get</code> word a lot. It has to do with HTTP requests. Remember: a server&apos;s job is to respond to HTTP requests. In order to talk about how Sinatra functions, we need to talk about how HTTP requests work.</p>
<p>Every HTTP request consists of a request <strong>method</strong> and <strong>path</strong>. The <strong>path</strong> is the URL to which the request is being sent. That&apos;s pretty familiar. However, your browser always sends that request in a particular <em>way</em> that gives the server a hint as to the &quot;point&quot; of the request. This &quot;particular way&quot; is the <strong>method</strong>.</p>
<h3 id="for-example">For example</h3>
<p>You could consider me speaking to the class to be an HTTP request. I&apos;m the browser. You all are the server. The path is the classroom. The method is how I&apos;m talking.</p>
<p>If my method is &quot;talking in a normal voice&quot;, you can infer that the point of my request is for you all to just absorb some information.</p>
<p>If my method is &quot;YELLING IN A LOUD VOICE&quot;, you can infer that the point of my request is for you all to start behaving yourselves right this second.</p>
<h3 id="rest">REST</h3>
<p>Browsers have different &quot;ways of talking&quot; to servers. These are called <strong>methods</strong>. REST, or REpresentational State Transfer, is a convention for what these methods should be to standardize all the communication between browsers and servers.</p>
<p>Knowing REST is important because the vast majority of web developers have agreed to follow this same convention.</p>
<p>&quot;GET&quot; is one of these methods. It means the browser just wants to read (or &quot;get&quot;) some information. When you write <code>get &apos;/say_hi&apos; do</code>, you&apos;re telling your Sinatra server how to respond when a browser says, &quot;Hey, I&apos;d like to get some information from the <code>say_hi</code> path.&quot;</p>
<p>We make requests all the time -- especially GET requests. Everytime you go to your browser, enter a URL, and hit enter, you&apos;re actually making a GET request. </p>
<h3 id="rest-methods">REST Methods</h3>
<p>REST defines five main methods, each of which corresponds to one of the CRUD functionalities.</p>
<table>
<thead>
<tr>
<th>Method</th>
<th>Crud functionality</th>
</tr>
</thead>
<tbody>
<tr>
<td>GET</td>
<td>read</td>
</tr>
<tr>
<td>POST</td>
<td>create</td>
</tr>
<tr>
<td>PUT</td>
<td>update</td>
</tr>
<tr>
<td>PATCH</td>
<td>update</td>
</tr>
<tr>
<td>DELETE</td>
<td>delete</td>
</tr>
</tbody>
</table>
<p>So, wait -- there are 5 REST methods, but only 4 CRUD methods?</p>
<p>PUT and PATCH are both used for updating. Whenever you update your Facebook profile you&apos;re probably making a PUT or PATCH request. The difference is PUT would be intended to completely replace your profile, whereas PATCH would be intended to just change a few fields of your profile.</p>
<p>PUT rewrites data; PATCH just changes parts of data.</p>
<h3 id="whats-the-difference-at-a-technical-level-between-a-get-and-a-post-request">What&apos;s the difference at a technical level between a GET and a POST request?</h3>
<p>There really isn&apos;t a whole lot of difference. The browser sends the request more-or-less the same way. The difference is in how the data comprising the request is &quot;packaged&quot;.</p>
<p>We&apos;ll see this in greater detail later. For now, just think that, say, a GET request is sent in a plain old white envelope, while a POST request is sent in a red envelope with &quot;ACTION REQUIRED&quot; written on it.</p>
<h3 id="restful-routes">RESTful Routes</h3>
<p>A <strong>route</strong> is a <strong>method</strong> plus a <strong>path</strong>:</p>
<p><strong>Route = Method + Path</strong></p>
<p>Each route results in an <strong>action</strong>.</p>
<p>REST provides a template for the way different paths should look:</p>
<table>
<thead>
<tr>
<th>Method</th>
<th>Path</th>
<th>Action</th>
</tr>
</thead>
<tbody>
<tr>
<td>GET</td>
<td><code>/students</code></td>
<td>Read information about all students</td>
</tr>
<tr>
<td>POST</td>
<td><code>/students</code></td>
<td>Create a new student</td>
</tr>
<tr>
<td>GET</td>
<td><code>/students/1</code></td>
<td>Read information about the student whose ID is 1</td>
</tr>
<tr>
<td>PUT</td>
<td><code>/students/1</code></td>
<td>Update the existing student whose ID is 1 with all new content</td>
</tr>
<tr>
<td>PATCH</td>
<td><code>/students/1</code></td>
<td>Update the existing student whose ID is 1 with partially new content</td>
</tr>
<tr>
<td>DELETE</td>
<td><code>/students/1</code></td>
<td>Delete the existing student whose ID is 1</td>
</tr>
</tbody>
</table>
<p>Note that the path doesn&apos;t contain any of the words describing the CRUD functionality that will be executed. That&apos;s the method&apos;s job.</p>
<p>Let&apos;s check out the <a href="http://espn.go.com/" target="_blank">ESPN website</a>. If we go to a specific player&apos;s webpage, we can see this same sort of structure in the URL. </p>
<h3 id="you-do">You do:</h3>
<p>Create routes for the following requests. The first one is done for you.</p>
<ol>
<li>Create a new animal<ul>
<li><code>POST /animals</code></li>
</ul>
</li>
<li>Delete an animal</li>
<li>Update an existing homework assignment</li>
<li>Create a new class at GA.</li>
<li>View all students in WDI.</li>
<li>Update the info for an animal with 3 as its id.</li>
<li>Update homework submission #32 for assignment #3</li>
</ol>
<h1 id="break">BREAK</h1>
<h1 id="sinatra-views">Sinatra Views</h1>
<h2 id="we-do-sinatra-views">We do: Sinatra Views</h2>
<p>Convert 99 bottles ex. to use views.</p>
<p>Let&apos;s convert the hardcoded strings in our application to take advantage of Sinatra&apos;s built-in templating engine: erb.</p>
<p>Create a directory called <code>views</code> and a file in that folder called <code>index.erb</code></p>
<p>In your main application file, render the view with the keyword <code>erb</code></p>
<p>Our entire application looks like:</p>
<pre><code class="lang-ruby"><span class="hljs-keyword">require</span> <span class="hljs-string">&apos;sinatra&apos;</span>
get <span class="hljs-string">&apos;/&apos;</span> <span class="hljs-keyword">do</span>
  erb <span class="hljs-symbol">:index</span>
<span class="hljs-keyword">end</span>
</code></pre>
<pre><code class="lang-html"><span class="hljs-comment">&lt;!-- /views/index.erb --&gt;</span>
This is the home page.
</code></pre>
<h2 id="passing-variables-to-views">Passing Variables to Views</h2>
<p>To share variables from the application with the view, define instance variables:</p>
<pre><code class="lang-ruby"><span class="hljs-keyword">require</span> <span class="hljs-string">&apos;sinatra&apos;</span>
get <span class="hljs-string">&apos;/:num_bottles&apos;</span> <span class="hljs-keyword">do</span>
  <span class="hljs-variable">@num_bottles</span> = params[<span class="hljs-symbol">:num_bottles</span>]
  <span class="hljs-variable">@next</span> = <span class="hljs-variable">@num_bottles</span> -= <span class="hljs-number">1</span>
  erb <span class="hljs-symbol">:index</span>
<span class="hljs-keyword">end</span>
</code></pre>
<blockquote>
<p>Variables that we want to use in the view <code>.erb</code> files need to be instantiated with <code>@</code>.</p>
</blockquote>
<pre><code class="lang-html"><span class="hljs-comment">&lt;!-- /views/index.erb --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">%=</span> @<span class="hljs-attribute">num_bottles</span> %&gt;</span> of beer on the wall.
<span class="hljs-tag">&lt;<span class="hljs-title">a</span> <span class="hljs-attribute">href</span>=<span class="hljs-value">&apos;/&lt;%= @next %&gt;&apos;</span>&gt;</span>Take one down.<span class="hljs-tag">&lt;/<span class="hljs-title">a</span>&gt;</span>
</code></pre>
<blockquote>
<p>We can write erb tags in two ways. <code>&lt;% %&gt;</code> or <code>&lt;%= %&gt;</code>. Without the equal sign, the view (<code>.erb</code> file) will execute the code only. With an equal sign, the view will execute the code and also place a string that is the return value of the code that was executed.</p>
</blockquote>
<p>To see this in action let&apos;s update our <code>app.rb</code>:</p>
<pre><code class="lang-ruby">get <span class="hljs-string">&apos;/&apos;</span> <span class="hljs-keyword">do</span>
  <span class="hljs-variable">@bob</span> = <span class="hljs-string">&quot;bobert&quot;</span>
  erb <span class="hljs-symbol">:index</span>
<span class="hljs-keyword">end</span>
</code></pre>
<p>In <code>index.erb</code></p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-title">p</span>&gt;</span>This is the instance variable @bob in the initial state: <span class="hljs-tag">&lt;<span class="hljs-title">%=</span> @<span class="hljs-attribute">bob</span> %&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">p</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">p</span>&gt;</span>This is executing and returning using erb tags with equal sign: <span class="hljs-tag">&lt;<span class="hljs-title">%=</span> @<span class="hljs-attribute">bob</span> += &quot;(<span class="hljs-attribute">using</span> <span class="hljs-attribute">equals</span> <span class="hljs-attribute">in</span> <span class="hljs-attribute">erb</span>)&quot; %&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">p</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">p</span>&gt;</span>This is only executing using erb tags without equal sign: <span class="hljs-tag">&lt;<span class="hljs-title">%</span> @<span class="hljs-attribute">bob</span> += &quot;(<span class="hljs-attribute">not</span> <span class="hljs-attribute">using</span> <span class="hljs-attribute">equals</span> <span class="hljs-attribute">in</span> <span class="hljs-attribute">erb</span>)&quot; %&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">p</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">p</span>&gt;</span>Final state of @bob : <span class="hljs-tag">&lt;<span class="hljs-title">%=</span> @<span class="hljs-attribute">bob</span> %&gt;</span>
</code></pre>
<blockquote>
<p>One thing to note about instance variables (<code>@some_variable</code>). If we instantiate an instance variable in one of our routes, we can only use it in that route and cooresponding view. Other routes won&apos;t be able to utilize it.</p>
</blockquote>
<h3 id="more-complex-ruby-with-erb">More complex ruby with erb</h3>
<p>If you have a collection to loop through, like an array or a hash, you use
a slightly different syntax:</p>
<p>Let&apos;s add the following content to <code>app.rb</code>:</p>
<pre><code class="lang-ruby">names = [<span class="hljs-string">&quot;bobert&quot;</span>, <span class="hljs-string">&quot;tom&quot;</span>, <span class="hljs-string">&quot;missy&quot;</span>, <span class="hljs-string">&quot;kristy&quot;</span>]

get <span class="hljs-string">&apos;/&apos;</span> <span class="hljs-keyword">do</span>
  <span class="hljs-variable">@names</span> = names
  erb <span class="hljs-symbol">:index</span>
<span class="hljs-keyword">end</span>
</code></pre>
<p>If we wanted to have all of the names in <code>&lt;p&gt;&lt;/p&gt;</code> tags we could do something like this in our <code>index.erb</code></p>
<pre><code class="lang-html"><span class="hljs-comment">&lt;!-- /views/index.erb --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">%</span> @<span class="hljs-attribute">names.each</span> <span class="hljs-attribute">do</span> |<span class="hljs-attribute">name</span>| %&gt;</span>  <span class="hljs-comment">&lt;!-- note the missing `=` --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">p</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">%=</span> <span class="hljs-attribute">name</span> %&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">p</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">%</span> <span class="hljs-attribute">end</span> %&gt;</span>
</code></pre>
<blockquote>
<p>As we delve deeper into back end development. The neccessity to iterate through data sets like in the above code snippet becomes extremely important. Instead of names, we might loop through nfl players. And instead of <code>name</code> it might look like <code>player.name</code>. Depending on the object representing players, it might have multiple different properties like <code>total_yards</code>, our <code>touchdowns_this_season</code></p>
</blockquote>
<h2 id="sinatra-assets">Sinatra Assets</h2>
<p>any files in the <code>public</code> folder will be served as static assets</p>
<p>For example, you would create a file <code>public/css/styles.css</code></p>
<p>and link to it with</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-title">link</span> <span class="hljs-attribute">rel</span>=<span class="hljs-value">&quot;stylesheet&quot;</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">&quot;text/css&quot;</span> <span class="hljs-attribute">href</span>=<span class="hljs-value">&quot;/css/styles.css&quot;</span>&gt;</span>
</code></pre>
<p>Instead of copying and pasting this link to each of the views, we can use a global layout view
which will be loaded &quot;around&quot; every other view.</p>
<pre><code class="lang-html"><span class="hljs-comment">&lt;!-- views/layout.erb --&gt;</span>
<span class="hljs-doctype">&lt;!doctype html&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">html</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">head</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">%=</span> <span class="hljs-attribute">yield</span> %&gt;</span> <span class="hljs-comment">&lt;!-- load whatever template was called here --&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-title">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">html</span>&gt;</span>
</code></pre>
<h2 id="you-do-pair-programming-bot">You do: Pair Programming Bot</h2>
<p><a href="https://github.com/ga-dc/pair_programming_bot" target="_blank">https://github.com/ga-dc/pair_programming_bot</a></p>
<h2 id="postman">Postman</h2>
<p>So far, we know how to make GET requests only. We do this by visiting a URL in a browser. The browser then
initiates a GET request to the provided path (the URL you entered.)</p>
<p>Form submissions initiate POST requests. (example here submitting a form to restful.link)</p>
<p>Postman allows us to easily test different types of requests.</p>
<p>Let&apos;s compare the output of GET requests initiated in Postman and in the browser.</p>
<h2 id="we-do-forms">We do: Forms</h2>
<p>Forms with a POST action are used for creating new things.</p>
<p>Add this to <code>index.erb</code>:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-title">form</span> <span class="hljs-attribute">method</span>=<span class="hljs-value">&apos;post&apos;</span> <span class="hljs-attribute">action</span>=<span class="hljs-value">&apos;/names&apos;</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">&apos;text&apos;</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">&apos;student_name&apos;</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">&apos;submit&apos;</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">form</span>&gt;</span>
</code></pre>
<p>Let&apos;s try submitting this form. OH NOES. Sinatra doesn&apos;t know this diddy.</p>
<blockquote>
<p>Note that when we change whats in the action in the form. The diddy sinatra doesn&apos;t know changes to whatever is in that action form.</p>
</blockquote>
<p>Add this to <code>app.rb</code>:</p>
<pre><code class="lang-ruby">post <span class="hljs-string">&apos;/names&apos;</span> <span class="hljs-keyword">do</span>
  names.push(params[<span class="hljs-symbol">:student_name</span>])
<span class="hljs-keyword">end</span>
</code></pre>
<p>Let&apos;s try submitting again. What happened? Hmm, seems like whatever we type in gets rendered. Instead of that, I think it&apos;d be really helpful if we just redirected to our names route after we push the name to the array.</p>
<p>Update <code>app.rb</code>:</p>
<pre><code class="lang-ruby">post <span class="hljs-string">&apos;/names&apos;</span> <span class="hljs-keyword">do</span>
  names &lt;&lt; params[<span class="hljs-symbol">:student_name</span>]
  redirect <span class="hljs-string">&quot;names&quot;</span>
<span class="hljs-keyword">end</span>
</code></pre>
<blockquote>
<p>This is traditionally how post requests work. Where some creation functionality happens and then it redirects to a page.</p>
<p>Another thing you may have figured out by now, is that we could have <code>names &lt;&lt; params[:student_name]</code> in a get request, why might this be a bad idea? (ST- WG) It goes against REST! <code>GET</code> requests should only be to access information.</p>
</blockquote>
<p>Any input with a <code>name</code> attribute will show up as an element of <code>params</code></p>
<p>Forms with a GET action are useful for search forms.</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-title">form</span> <span class="hljs-attribute">method</span>=<span class="hljs-value">&apos;get&apos;</span> <span class="hljs-attribute">action</span>=<span class="hljs-value">&apos;/names&apos;</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">&apos;search&apos;</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">&apos;student_name&apos;</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">&apos;submit&apos;</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">form</span>&gt;</span>
</code></pre>
<blockquote>
<p>Keep an eye out on the URL when you submit this last form, you&apos;ll notice that the url changes to whatever the action is as well as contains all of the parameter values from the input tags.</p>
<p>We can only do <code>get</code> and <code>post</code> with forms. This is not a limitation on REST, but a limitation on HTML. We will see tomorrow during the lab theres a way to kind of hack around these HTML limitations.</p>
</blockquote>
<p><strong>Question</strong>: What&apos;s the benefit of using GET requests with search forms?</p>
<h2 id="you-do-emergency-complement">You do: Emergency Complement</h2>
<p><a href="https://github.com/ga-dc/emergency_compliment" target="_blank">https://github.com/ga-dc/emergency_compliment</a></p>
<h3 id="sample-quiz-questions">Sample Quiz Questions</h3>
<ul>
<li>List the 5 HTTP request methods. How do they relate to the 4 crud actions?</li>
<li>What is the purpose of sinatra&apos;s <code>layout.erb</code> file?</li>
<li>Write an html <code>&lt;script&gt;</code> tag that links to a js file in <code>public/js/app.js</code></li>
</ul>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../../04-ruby-mvc-sinatra/active-record-intro/readme.html" class="navigation navigation-prev " aria-label="Previous page: Active Record"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../../04-ruby-mvc-sinatra/sinatra-and-activerecord/readme.html" class="navigation navigation-next " aria-label="Next page: Sinatra &amp; Active Record"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../../gitbook/app.js"></script>

    
    <script src="../../gitbook/plugins/gitbook-plugin-search/lunr.min.js"></script>
    

    
    <script src="../../gitbook/plugins/gitbook-plugin-search/search.js"></script>
    

    
    <script src="../../gitbook/plugins/gitbook-plugin-sharing/buttons.js"></script>
    

    
    <script src="../../gitbook/plugins/gitbook-plugin-fontsettings/buttons.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"highlight":{},"search":{},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
