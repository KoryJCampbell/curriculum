<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>Active Record | Welcome to GA&#39;s WDI-DC</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.4.3">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="../../gitbook/style.css">
    
        
        <link rel="stylesheet" href="../../gitbook/plugins/gitbook-plugin-highlight/website.css">
        
    
    

        
    
    
    <link rel="next" href="../../04-ruby-mvc-sinatra/sinatra-rest/readme.html" />
    
    
    <link rel="prev" href="../../04-ruby-mvc-sinatra/databases/readme.html" />
    

        
    </head>
    <body>
        
        
    <div class="book" data-level="3.6" data-basepath="../.." data-revision="Tue Oct 20 2015 16:16:54 GMT+0000 (UTC)">
    

<div class="book-summary">
    <div class="book-search" role="search">
        <input type="text" placeholder="Type to search" class="form-control" />
    </div>
    <nav role="navigation">
        <ul class="summary">
            
            
            
            

            

            
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../../index.html">
                
                        <i class="fa fa-check"></i>
                        
                        An Introduction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="01-front-end-fundamentals/readme.html">
            
                
                    <a href="../../01-front-end-fundamentals/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        Front End Fundamentals
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1" data-path="01-front-end-fundamentals/command-line/readme.html">
            
                
                    <a href="../../01-front-end-fundamentals/command-line/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                        Command Line Interface
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="01-front-end-fundamentals/git/readme.html">
            
                
                    <a href="../../01-front-end-fundamentals/git/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.</b>
                        
                        Git
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="01-front-end-fundamentals/intro-to-web-and-html/readme.html">
            
                
                    <a href="../../01-front-end-fundamentals/intro-to-web-and-html/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.3.</b>
                        
                        Intro to Web and HTML
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="01-front-end-fundamentals/css/readme.html">
            
                
                    <a href="../../01-front-end-fundamentals/css/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.4.</b>
                        
                        CSS
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="01-front-end-fundamentals/javascript-data-types/readme.html">
            
            <span><b>1.5.</b> JavaScript Data Types</span>
            
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="01-front-end-fundamentals/javascript-loops-conditionals/readme.html">
            
            <span><b>1.6.</b> JavaScript Loops and Conditionals</span>
            
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="01-front-end-fundamentals/javascript-objects-functions/readme.html">
            
                
                    <a href="../../01-front-end-fundamentals/javascript-objects-functions/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.7.</b>
                        
                        JavaScript Objects and Functions
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="01-front-end-fundamentals/javascript-DOM/readme.html">
            
                
                    <a href="../../01-front-end-fundamentals/javascript-DOM/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.8.</b>
                        
                        JavaScript DOM
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2" data-path="02-intermediate-front-end/readme.html">
            
                
                    <a href="../../02-intermediate-front-end/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        Intermediate Front End
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="02-intermediate-front-end/scope-context-closures/readme.html">
            
                
                    <a href="../../02-intermediate-front-end/scope-context-closures/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                        Scope, Context, and Closures
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1" data-path="02-intermediate-front-end/scope-context-closures/scope.html">
            
                
                    <a href="../../02-intermediate-front-end/scope-context-closures/scope.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.1.</b>
                        
                        Scope
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.1.2" data-path="02-intermediate-front-end/scope-context-closures/context.html">
            
                
                    <a href="../../02-intermediate-front-end/scope-context-closures/context.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.2.</b>
                        
                        Context
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.1.3" data-path="02-intermediate-front-end/scope-context-closures/closures.html">
            
                
                    <a href="../../02-intermediate-front-end/scope-context-closures/closures.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.3.</b>
                        
                        Closures
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="02-intermediate-front-end/events-and-callbacks/readme.html">
            
                
                    <a href="../../02-intermediate-front-end/events-and-callbacks/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                        Events and Callbacks
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="02-intermediate-front-end/git_branching/readme.html">
            
                
                    <a href="../../02-intermediate-front-end/git_branching/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.</b>
                        
                        Git Branching
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="02-intermediate-front-end/jquery/jquery-intro-selectors.html">
            
                
                    <a href="../../02-intermediate-front-end/jquery/jquery-intro-selectors.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.4.</b>
                        
                        jQuery
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="02-intermediate-front-end/jquery/jquery-two.html">
            
                
                    <a href="../../02-intermediate-front-end/jquery/jquery-two.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.5.</b>
                        
                        jQuery 2
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="02-intermediate-front-end/workflows/lesson_plan.html">
            
                
                    <a href="../../02-intermediate-front-end/workflows/lesson_plan.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.6.</b>
                        
                        Workflows
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.7" data-path="02-intermediate-front-end/css2/readme.html">
            
                
                    <a href="../../02-intermediate-front-end/css2/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.7.</b>
                        
                        CSS 2 (Layout &amp; Fonts)
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" data-path="04-ruby-mvc-sinatra/readme.html">
            
                
                    <a href="../../04-ruby-mvc-sinatra/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        Ruby + MVC with Sinatra
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1" data-path="04-ruby-mvc-sinatra/ruby-basics/readme.html">
            
                
                    <a href="../../04-ruby-mvc-sinatra/ruby-basics/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                        Ruby Basics
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="04-ruby-mvc-sinatra/ruby-enumerables/readme.html">
            
                
                    <a href="../../04-ruby-mvc-sinatra/ruby-enumerables/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.</b>
                        
                        Ruby Enumerables
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="04-ruby-mvc-sinatra/problem_modeling/readme.html">
            
                
                    <a href="../../04-ruby-mvc-sinatra/problem_modeling/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.</b>
                        
                        Problem Modeling
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="04-ruby-mvc-sinatra/domain_modeling/readme.html">
            
                
                    <a href="../../04-ruby-mvc-sinatra/domain_modeling/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.4.</b>
                        
                        Domain Modeling
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.5" data-path="04-ruby-mvc-sinatra/databases/readme.html">
            
                
                    <a href="../../04-ruby-mvc-sinatra/databases/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.5.</b>
                        
                        Databases
                    </a>
            
            
        </li>
    
        <li class="chapter active" data-level="3.6" data-path="04-ruby-mvc-sinatra/active-record-intro/readme.html">
            
                
                    <a href="../../04-ruby-mvc-sinatra/active-record-intro/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.6.</b>
                        
                        Active Record
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.7" data-path="04-ruby-mvc-sinatra/sinatra-rest/readme.html">
            
                
                    <a href="../../04-ruby-mvc-sinatra/sinatra-rest/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.7.</b>
                        
                        Sinatra &amp; REST
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.8" data-path="04-ruby-mvc-sinatra/sinatra-and-activerecord/readme.html">
            
                
                    <a href="../../04-ruby-mvc-sinatra/sinatra-and-activerecord/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.8.</b>
                        
                        Sinatra &amp; Active Record
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4" data-path="05-mvc-with-rails/readme.html">
            
                
                    <a href="../../05-mvc-with-rails/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        MVC with Rails
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1" data-path="05-mvc-with-rails/unit_testing_with_rspec/readme.html">
            
                
                    <a href="../../05-mvc-with-rails/unit_testing_with_rspec/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.</b>
                        
                        Unit Testing with RSpec
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="05-mvc-with-rails/MVC-intro-to-rails/readme.html">
            
                
                    <a href="../../05-mvc-with-rails/MVC-intro-to-rails/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.2.</b>
                        
                        MVC Intro to Rails
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="05-mvc-with-rails/rails-models-and-migrations/readme.html">
            
                
                    <a href="../../05-mvc-with-rails/rails-models-and-migrations/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.3.</b>
                        
                        Models and Migrations
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="05-mvc-with-rails/rails-views-and-controllers/readme.html">
            
                
                    <a href="../../05-mvc-with-rails/rails-views-and-controllers/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.4.</b>
                        
                        Views and Controllers
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.5" data-path="05-mvc-with-rails/rails-routes-and-resources/readme.html">
            
                
                    <a href="../../05-mvc-with-rails/rails-routes-and-resources/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.5.</b>
                        
                        Routes and Resources
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.6" data-path="05-mvc-with-rails/rails-helpers/readme.html">
            
                
                    <a href="../../05-mvc-with-rails/rails-helpers/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.6.</b>
                        
                        Helpers
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.7" data-path="05-mvc-with-rails/rails-sessions-and-auth/readme.html">
            
                
                    <a href="../../05-mvc-with-rails/rails-sessions-and-auth/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.7.</b>
                        
                        Sessions and Auth
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.8" data-path="05-mvc-with-rails/rails-deployment/readme.html">
            
                
                    <a href="../../05-mvc-with-rails/rails-deployment/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.8.</b>
                        
                        Deployment
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5" data-path="07-uxdi-collaboration/readme.html">
            
                
                    <a href="../../07-uxdi-collaboration/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        UXDI Collaboration: The Interactive Web
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1" data-path="07-uxdi-collaboration/apis/readme.html">
            
                
                    <a href="../../07-uxdi-collaboration/apis/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.1.</b>
                        
                        APIs
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="07-uxdi-collaboration/ajax/readme.html">
            
                
                    <a href="../../07-uxdi-collaboration/ajax/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.2.</b>
                        
                        Ajax
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="07-uxdi-collaboration/grids/readme.html">
            
                
                    <a href="../../07-uxdi-collaboration/grids/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.3.</b>
                        
                        Grid Systems
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.4" data-path="07-uxdi-collaboration/animations/readme.html">
            
                
                    <a href="../../07-uxdi-collaboration/animations/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.4.</b>
                        
                        Animations
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.5" data-path="07-uxdi-collaboration/responsive-web-design/readme.html">
            
                
                    <a href="../../07-uxdi-collaboration/responsive-web-design/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.5.</b>
                        
                        Responsive Web Design
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="6" data-path="08-single-page-web-apps/readme.html">
            
                
                    <a href="../../08-single-page-web-apps/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                        &quot;Single Page&quot; Web Applications
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.1" data-path="08-single-page-web-apps/express_intro/readme.html">
            
                
                    <a href="../../08-single-page-web-apps/express_intro/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.</b>
                        
                        Intro to Express
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="08-single-page-web-apps/express_routing/readme.html">
            
                
                    <a href="../../08-single-page-web-apps/express_routing/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.2.</b>
                        
                        Express Routing
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="7" data-path="10-back-and-front-of-front-end/readme.html">
            
                
                    <a href="../../10-back-and-front-of-front-end/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.</b>
                        
                        Back and Front of Front End
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="7.1" >
            
            <span><b>7.1.</b> BackBone</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="7.1.1" data-path="10-back-and-front-of-front-end/bb_models_collections/readme.html">
            
                
                    <a href="../../10-back-and-front-of-front-end/bb_models_collections/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.1.1.</b>
                        
                        Models and Collections
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.1.2" data-path="10-back-and-front-of-front-end/bb_views_part1/readme.html">
            
                
                    <a href="../../10-back-and-front-of-front-end/bb_views_part1/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.1.2.</b>
                        
                        Views (part 1)
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.1.3" data-path="10-back-and-front-of-front-end/bb_views_part2/readme.html">
            
                
                    <a href="../../10-back-and-front-of-front-end/bb_views_part2/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.1.3.</b>
                        
                        Views (part 2)
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.1.4" data-path="10-back-and-front-of-front-end/bb_routers/readme.html">
            
                
                    <a href="../../10-back-and-front-of-front-end/bb_routers/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.1.4.</b>
                        
                        Routers
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="7.2" >
            
            <span><b>7.2.</b> Front End</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="7.2.1" data-path="10-back-and-front-of-front-end/bootstrap/readme.html">
            
                
                    <a href="../../10-back-and-front-of-front-end/bootstrap/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.2.1.</b>
                        
                        Bootstrap
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.2.2" data-path="10-back-and-front-of-front-end/flexbox/readme.html">
            
                
                    <a href="../../10-back-and-front-of-front-end/flexbox/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.2.2.</b>
                        
                        Flex Box
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.2.3" data-path="10-back-and-front-of-front-end/foundation/readme.html">
            
                
                    <a href="../../10-back-and-front-of-front-end/foundation/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.2.3.</b>
                        
                        Foundation
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.2.4" data-path="10-back-and-front-of-front-end/intro-to-php/readme.html">
            
                
                    <a href="../../10-back-and-front-of-front-end/intro-to-php/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.2.4.</b>
                        
                        Intro to PHP
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.2.5" data-path="10-back-and-front-of-front-end/jquery-plugins/readme.html">
            
                
                    <a href="../../10-back-and-front-of-front-end/jquery-plugins/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.2.5.</b>
                        
                        jQuery Plugins
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.2.6" data-path="10-back-and-front-of-front-end/mapping/readme.html">
            
                
                    <a href="../../10-back-and-front-of-front-end/mapping/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.2.6.</b>
                        
                        Mapping
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.2.7" data-path="10-back-and-front-of-front-end/pseudo-selectors/readme.html">
            
                
                    <a href="../../10-back-and-front-of-front-end/pseudo-selectors/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.2.7.</b>
                        
                        Pseudo Selectors
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.2.8" data-path="10-back-and-front-of-front-end/sass1-basic-reuse/readme.html">
            
                
                    <a href="../../10-back-and-front-of-front-end/sass1-basic-reuse/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.2.8.</b>
                        
                        Sass 1: Basic Reuse
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.2.9" data-path="10-back-and-front-of-front-end/sass2-control-directives/readme.html">
            
                
                    <a href="../../10-back-and-front-of-front-end/sass2-control-directives/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.2.9.</b>
                        
                        Sass 2: Control Directives
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="8" data-path="11-angular/readme.html">
            
                
                    <a href="../../11-angular/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.</b>
                        
                        MVW with Angular
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="8.1" data-path="11-angular/angular_intro_controllers_directives/readme.html">
            
                
                    <a href="../../11-angular/angular_intro_controllers_directives/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.1.</b>
                        
                        Angular Intro: Controllers &amp; Directives
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.2" data-path="11-angular/services_templates_and_routing/readme.html">
            
                
                    <a href="../../11-angular/services_templates_and_routing/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.2.</b>
                        
                        Services, Templates, and Routing
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.3" data-path="11-angular/custom_directives/readme.html">
            
                
                    <a href="../../11-angular/custom_directives/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.3.</b>
                        
                        Custom Directives
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.4" data-path="11-angular/firebase_in_angular/readme.html">
            
                
                    <a href="../../11-angular/firebase_in_angular/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.4.</b>
                        
                        AngularFire: Firebase &amp; Angular
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.5" data-path="11-angular/angular-vs-rails.html">
            
                
                    <a href="../../11-angular/angular-vs-rails.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.5.</b>
                        
                        Angular vs. Rails
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    


            
            <li class="divider"></li>
            <li>
                <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                    Published with GitBook
                </a>
            </li>
            
        </ul>
    </nav>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header" role="navigation">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Table of Contents"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search" aria-label="Search"><i class="fa fa-search"></i></a>
    
    <div id="font-settings-wrapper" class="dropdown pull-left">
        <a href="#" class="btn toggle-dropdown" aria-label="Font Settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="buttons">
        <button type="button" id="reduce-font-size" class="button size-2">A</button>
        <button type="button" id="enlarge-font-size" class="button size-2">A</button>
    </div>

    <div class="buttons font-family-list">
        <button type="button" data-font="0" class="button">Serif</button>
        <button type="button" data-font="1" class="button">Sans</button>
    </div>

    <div class="buttons color-theme-list">
        <button type="button" id="color-theme-preview-0" class="button size-3" data-theme="0">White</button>
        <button type="button" id="color-theme-preview-1" class="button size-3" data-theme="1">Sepia</button>
        <button type="button" id="color-theme-preview-2" class="button size-3" data-theme="2">Night</button>
    </div>
</div>

    </div>

    <!-- Actions Right -->
    
    <div class="dropdown pull-right">
        <a href="#" class="btn toggle-dropdown" aria-label="Share"><i class="fa fa-share-alt"></i>
        </a>
        <div class="dropdown-menu font-settings dropdown-left">
            <div class="dropdown-caret">
                <span class="caret-outer"></span>
                <span class="caret-inner"></span>
            </div>
            <div class="buttons">
                <button type="button" data-sharing="twitter" class="button">
                    Share on Twitter
                </button>
                <button type="button" data-sharing="google-plus" class="button">
                    Share on Google
                </button>
                <button type="button" data-sharing="facebook" class="button">
                    Share on Facebook
                </button>
                <button type="button" data-sharing="weibo" class="button">
                    Share on Weibo
                </button>
                <button type="button" data-sharing="instapaper" class="button">
                    Share on Instapaper
                </button>
            </div>
        </div>
    </div>
    

    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Google"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Twitter"><i class="fa fa-twitter"></i></a>
    
    
    


    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../../" >Welcome to GA&#39;s WDI-DC</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1" role="main">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h1 id="active-record">Active Record</h1>
<h2 id="lo-s">LO&apos;s</h2>
<ul>
<li>Define ORM and why we use it over a database language.</li>
<li>Explain what Active record is and what problems it solves.</li>
<li>Explain convention over configuration and how it relates to Active Record</li>
<li>Define a class that inherits from AR</li>
<li>Utilize AR to perform the following CRUD actions on a database<ul>
<li>create</li>
<li>new</li>
<li>save</li>
<li>all</li>
<li>find, find_by</li>
<li>where</li>
<li>update</li>
<li>destroy</li>
</ul>
</li>
<li>Differentiate between class versus instant methods in Active Record objects/classes</li>
<li>Utilize <code>has_many</code>, <code>belongs_to</code> to establish associations/relationships with AR</li>
<li>Seed a database using AR</li>
</ul>
<h2 id="opening-framing-15m">Opening Framing (15m)</h2>
<p>We now have a way to persist data in a database. We&apos;ve also learned about OOP in Ruby how we can represent things in real life programmatically as objects. Which is AWESOME! But really databases just seems like data in this kind of cryptic place on our local computer.  We have to make super long SQL statements to do CRUD. It&apos;d be really nice if we had some kind of way to interface between the database and our servers/applications in order to streamline this process. Enter ORM&apos;s.</p>
<p>Information Dive(5m)
For the next 5 minutes, research what ORM&apos;s are.</p>
<p><a href="https://en.wikipedia.org/wiki/Object-relational_mapping" target="_blank">ORM - wikipedia</a></p>
<p><a href="http://guides.rubyonrails.org/active_record_basics.html" target="_blank">AR Read 1.1 - 1.3</a></p>
<p>T&amp;T (5m)
Now, turn &amp; talk to your neighbor and discuss:</p>
<ul>
<li>at a high level, what ORM&apos;s are and how they might be useful</li>
<li>what&apos;s the importance of interfacing the server with the database</li>
</ul>
<h2 id="orm-s-active-record-15m">ORM&apos;s &amp; Active Record (15m)</h2>
<ul>
<li><em>Official</em> wikipedia definition. A programming technique for converting data between incompatible type systems in object-oriented programming languages.<blockquote>
<p>Thats sounds like a lot of 5 dollar words, but what does it really mean?</p>
</blockquote>
</li>
</ul>
<p>We need a way to encapsulate our databases into objects that we can talk to on our server. ORM&apos;s serve that purpose. That table we created in SQL? Well, its an object on our server now. That&apos;s what ORM&apos;s do.</p>
<p>More concretely they:</p>
<ul>
<li>They &apos;map&apos; (translate) objects to rows in our DB (and vice versa)</li>
<li>1 table per Model/Class/Entity<ul>
<li>table name is model name pluralized</li>
<li>each column is an attribute for that model</li>
</ul>
</li>
<li>Handles associations using foreign keys</li>
</ul>
<p>It just so happens you guys will be learning one of the best ORM&apos;s on the market. It has some of the best documentation and best syntax(because ruby is awesome) the industry has to offer. This ORM is Active Record.</p>
<blockquote>
<p>Active Record is the M in MVC - the model - which is the layer of the system responsible for representing business data and logic. Active Record facilitates the creation and use of business objects whose data requires persistent storage to a database. It is an implementation of the Active Record pattern which itself is a description of an Object Relational Mapping system. - Taken from AR docs</p>
</blockquote>
<h2 id="active-record">Active Record</h2>
<h3 id="convention-over-configuration-st-wg-5m">Convention Over configuration (ST - WG 5m)</h3>
<p>Before we get started with the code, I want to highlight a reoccurring theme of Active Record and Rails in general. That is Convention over Configuration. I&apos;m going write on the board <code>conventions</code> throughout todays lesson so we can list them as we go. But what do you guys think we mean by convention over configuration?</p>
<p>Basically Active Record and Rails has a whole bunch of conventions that it follows so that you won&apos;t have to mess with different configuration details later. Some of the common ones are plural vs single, capital or lower, camel or snake.</p>
<p>In a nutshell, if you don&apos;t follow the conventions, you&apos;re going to have a bad time.</p>
<p>Alright! Let&apos;s get started with some code!</p>
<h3 id="setup-sql-wdi-i-do-10m">Setup SQL - WDI(I do - 10m)</h3>
<blockquote>
<p>Throughout the day, I&apos;ll be doing some code simulating a &quot;wdi application&quot; then you guys will code a &quot;hospital application&quot;</p>
</blockquote>
<p>For the morning, I want to be able to do CRUD to a model with Active Record.  The first thing that I want to do is create/setup a database.</p>
<p>First let&apos;s create our database and create our schema file in the terminal:</p>
<pre><code class="lang-bash">$ mkdir ar_wdi
$ <span class="hljs-built_in">cd</span> ar_wdi
$ mkdir config
$ touch config/wdi_schema.sql
$ createdb wdi_db
</code></pre>
<blockquote>
<p>All we did here was create a database in PSQL. If you ever want to drop a database the command is <code>$ dropdb &lt;database_name&gt;</code> (VERY DANGEROUS)</p>
</blockquote>
<p>Next, I want to update the schema file and then load a schema for our model into the database:</p>
<p>in <code>config/wdi_schema.sql</code> file:</p>
<pre><code class="lang-sql"><span class="hljs-operator"><span class="hljs-keyword">DROP</span> <span class="hljs-keyword">TABLE</span> <span class="hljs-keyword">IF</span> <span class="hljs-keyword">EXISTS</span> students;</span>

<span class="hljs-operator"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> students (
  <span class="hljs-keyword">id</span> <span class="hljs-built_in">SERIAL</span> PRIMARY <span class="hljs-keyword">KEY</span>,
  first_name <span class="hljs-built_in">TEXT</span> <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,
  last_name <span class="hljs-built_in">TEXT</span> <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,
  age <span class="hljs-built_in">INT</span> <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,
  job <span class="hljs-built_in">TEXT</span>
);</span>
</code></pre>
<p>now lets load the <code>wdi_schema.sql</code> in the terminal:</p>
<pre><code class="lang-bash">$ psql <span class="hljs-operator">-d</span> wdi_db &lt; config/wdi_schema.sql
</code></pre>
<p>Why did we do this? Why not just go into psql and create the tables in postgres? (ST-WG)</p>
<p>It&apos;ll be nice going forward with your application that we package the schema up so that its modular. We can have others quickly pick up our code and have our exact database setup.</p>
<h3 id="setup-sql-hospital-you-do-10m">Setup SQL - Hospital( You do - 10m )</h3>
<p>Now it&apos;s your turn!</p>
<p>First create a directory for your hospital app.</p>
<p>Make a config folder in that directory.</p>
<p>Create a <code>hospital_schema.sql</code> file in the config folder</p>
<p>In the schema, create a patients table, patients should have:</p>
<ul>
<li>first_name</li>
<li>last_name</li>
<li>ailment</li>
<li>favorite_food</li>
</ul>
<p>Now create a hospital database and load the schema</p>
<h3 id="suggested-break-10m">Suggested Break (10m)</h3>
<h3 id="setup-ruby-wdi-i-do-10m">Setup ruby - WDI (I do - 10m)</h3>
<p>Great, now we have a table loaded into our database we&apos;re now ready to get started on the ruby side.
Let&apos;s first create all the directories/files we&apos;re going to need in the terminal:</p>
<pre><code class="lang-bash">$ touch app.rb
$ touch Gemfile
$ mkdir models
$ touch models/student.rb
</code></pre>
<blockquote>
<p>The <code>app.rb</code> file is our main application file. This is where alot of the main program logic will live.</p>
<p>The <code>Gemfile</code> will contain all the dependencies for our program.
The <code>models/student.rb</code> file will contain the class definition for the Student class that will represent the students table in SQL</p>
<p>by convention we always name our model file names singular</p>
</blockquote>
<p>In the <code>Gemfile</code>:</p>
<pre><code class="lang-ruby">source <span class="hljs-string">&apos;https://rubygems.org&apos;</span>

gem <span class="hljs-string">&quot;pg&quot;</span>  <span class="hljs-comment"># this gem allows ruby to talk to postgres</span>
gem <span class="hljs-string">&quot;activerecord&quot;</span>  <span class="hljs-comment"># this gem provides a connection between your ruby classes to relational database tables</span>
gem <span class="hljs-string">&quot;pry&quot;</span>  <span class="hljs-comment"># this gem allows access to REPL</span>
</code></pre>
<p>Then I&apos;m going to run <code>$ bundle install</code> in the terminal.</p>
<h3 id="setup-ruby-hospital-you-do-10m">Setup Ruby - Hospital (You do - 10m)</h3>
<ul>
<li>Create an <code>app.rb</code> file for this application</li>
<li>Create a Gemfile</li>
<li>Create a folder for your models</li>
<li>Create a file that will contain your AR class definition for doctors</li>
<li>Load dependencies into Gemfile and then bundle install</li>
</ul>
<h3 id="functionality-wdi-i-do-20m">Functionality - WDI (I do- 20m)</h3>
<p>In the <code>models/student.rb</code> file:</p>
<pre><code class="lang-ruby"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Student</span> <span class="hljs-inheritance">&lt; <span class="hljs-parent">ActiveRecord::Base</span></span></span>
  <span class="hljs-comment"># AR classes are singular and capitalized by convention</span>
<span class="hljs-keyword">end</span>
</code></pre>
<blockquote>
<p>In this ruby file, we create a class of Student that inherits from ActiveRecord::Base . Basically, when we inherit from ActiveRecord::Base it gives this class a whole bunch of functionality that maps the ruby Student Class to the students table in postgres.</p>
</blockquote>
<p>Now, lets create a file that handles the connection between our application and our database:</p>
<pre><code class="lang-bash">$ mkdir config
$ touch config/db.rb
</code></pre>
<p>In <code>config/db.rb</code>:</p>
<pre><code class="lang-ruby"><span class="hljs-constant">ActiveRecord::Base</span>.establish_connection(
  <span class="hljs-symbol">:adapter</span> =&gt; <span class="hljs-string">&quot;postgresql&quot;</span>,
  <span class="hljs-symbol">:database</span> =&gt; <span class="hljs-string">&quot;wdi_db&quot;</span>
)
</code></pre>
<p>Finally, let&apos;s build out the functionality of the <code>app.rb</code> file(which in this case is just dropping us into pry):</p>
<pre><code class="lang-ruby"><span class="hljs-keyword">require</span> <span class="hljs-string">&apos;bundler/setup&apos;</span> <span class="hljs-comment"># require all the gems we&apos;ll be using for this app from the Gemfile. Obviates the need for `bundle exec`</span>
<span class="hljs-keyword">require</span> <span class="hljs-string">&quot;pg&quot;</span> <span class="hljs-comment"># postrgres db library</span>
<span class="hljs-keyword">require</span> <span class="hljs-string">&quot;active_record&quot;</span> <span class="hljs-comment"># the ORM</span>
<span class="hljs-keyword">require</span> <span class="hljs-string">&quot;pry&quot;</span> <span class="hljs-comment"># for debugging</span>

require_relative <span class="hljs-string">&quot;config/db&quot;</span> <span class="hljs-comment"># require the db connection file that connects us to PSQL, prior to loading models</span>
require_relative <span class="hljs-string">&quot;models/student&quot;</span> <span class="hljs-comment"># require the Student class definition that we defined in the models/student.rb file</span>

<span class="hljs-comment"># This will put us into a state of the pry REPL, in which we&apos;ve established a connection</span>
<span class="hljs-comment"># with the wdi database and have defined the Student Class as an</span>
<span class="hljs-comment"># ActiveRecord::Base class.</span>
binding.pry
</code></pre>
<blockquote>
<p>note the difference between <code>require</code> and <code>require_relative</code>. With <code>require</code> we are getting gems and <code>require_relative</code> we are getting files relative to the location of the file we wrote <code>require_relative</code> in</p>
</blockquote>
<h3 id="functionality-hopsital-you-do-10m">Functionality - Hopsital (You do - 10m)</h3>
<ul>
<li>Define your model in <code>models/patient.rb</code></li>
<li>require dependencies in <code>app.rb</code></li>
<li>Establish connection to database using AR</li>
<li>load pry at the end of <code>app.rb</code></li>
</ul>
<h3 id="methods-wdi-60m-until-lunch-finish-after-lunch">Methods - WDI(~60m until lunch finish after lunch)</h3>
<p>Great! We&apos;ve got everything done that we need to get setup with single model CRUD in our application. Let&apos;s run it in the terminal:</p>
<pre><code class="lang-bash">$ ruby app.rb
</code></pre>
<p>When we run this app, we can see that it drops us into pry. Let&apos;s write some code in pry to update our database... IN REALTIME!!!</p>
<p>First I&apos;m going to write class and instance on the board, so we can write these down when we do them depending on what kind they are.</p>
<p>creating an instance of the Student object on the ruby side, but not saving:</p>
<pre><code class="lang-ruby">george = <span class="hljs-constant">Student</span>.new(<span class="hljs-symbol">first_name:</span> <span class="hljs-string">&quot;George&quot;</span>, <span class="hljs-symbol">last_name:</span> <span class="hljs-string">&quot;Washington&quot;</span>, <span class="hljs-symbol">age:</span> <span class="hljs-number">270</span>, <span class="hljs-symbol">job:</span> <span class="hljs-string">&quot;da man&quot;</span>)
</code></pre>
<p>saving to the database using <code>.save</code>:</p>
<pre><code class="lang-ruby">george.save
</code></pre>
<p>if you want to create an instance of an object AND save to the database we use <code>.create</code>:</p>
<pre><code class="lang-ruby">george = <span class="hljs-constant">Student</span>.create(<span class="hljs-symbol">first_name:</span> <span class="hljs-string">&quot;George&quot;</span>, <span class="hljs-symbol">last_name:</span> <span class="hljs-string">&quot;Washington&quot;</span>, <span class="hljs-symbol">age:</span> <span class="hljs-number">270</span>, <span class="hljs-symbol">job:</span> <span class="hljs-string">&quot;da man&quot;</span>)
</code></pre>
<p>All of the attribute columns of your model are now <code>attr_accessor</code>&apos;s as well. So we can do things like:</p>
<pre><code class="lang-ruby">george.first_name
<span class="hljs-comment"># gets the first name of george</span>
george.first_name = <span class="hljs-string">&quot;george the first&quot;</span>
<span class="hljs-comment"># sets the first name to george the first</span>
george.save
<span class="hljs-comment"># saves the model to the database</span>
</code></pre>
<blockquote>
<p>Should be noted that when we set the attribute using a setter, it doesn&apos;t automatically save to the database, its not until we call <code>.save</code> on the object that it saves to the database</p>
</blockquote>
<p>To get all of the students we use <code>.all</code>:</p>
<pre><code class="lang-ruby"><span class="hljs-constant">Student</span>.all
</code></pre>
<p>We can also find a student by its ID using <code>.find</code>:</p>
<pre><code class="lang-ruby"><span class="hljs-constant">Student</span>.find(<span class="hljs-number">1</span>)
</code></pre>
<p>Additionally we can also find a student by an attribute using <code>.find_by</code>:</p>
<pre><code class="lang-ruby"><span class="hljs-constant">Student</span>.find_by(<span class="hljs-symbol">first_name:</span> <span class="hljs-string">&quot;George&quot;</span>)
</code></pre>
<blockquote>
<p>Note that find_by only returns the first object that meets the requirements of the arguments</p>
</blockquote>
<p>If you want all students that meet a certain query then we use <code>.where</code>:</p>
<pre><code class="lang-ruby"><span class="hljs-constant">Student</span>.where(<span class="hljs-symbol">first_name:</span> <span class="hljs-string">&quot;George&quot;</span>)
</code></pre>
<p>We can also update attributes and save at the same time using the <code>.update</code> method:</p>
<pre><code class="lang-ruby">george = <span class="hljs-constant">Student</span>.find_by(<span class="hljs-symbol">first_name:</span> <span class="hljs-string">&quot;George&quot;</span>)
george.update(<span class="hljs-symbol">job:</span> <span class="hljs-string">&quot;surfer&quot;</span>, <span class="hljs-symbol">last_name:</span> <span class="hljs-string">&quot;Costanza&quot;</span>)
</code></pre>
<p>Finally we can also just destroy/delete rows in our database with the <code>.destroy</code> method:</p>
<pre><code class="lang-ruby">george = <span class="hljs-constant">Student</span>.find_by(<span class="hljs-symbol">first_name:</span> <span class="hljs-string">&quot;George&quot;</span>)
george.destroy
<span class="hljs-comment"># goodbye george you&apos;re gone forever</span>
</code></pre>
<blockquote>
<p>This is exciting stuff by the way, imagine, while we do these things, that our students model is instead a post on facebook, or a comment on facebook. So the next time you comment on someone&apos;s facebook page you have an idea now of whats happening on the database layer. Maybe not the whole picture, but you have an idea. We&apos;re going to build on that idea in the coming week and half, and thats really exciting.</p>
</blockquote>
<h3 id="methods-hospital-you-do-in-pry">Methods - Hospital (you do- in pry!)</h3>
<ul>
<li>create 5 patients in your database 3 should have the ailment: &quot;chicken pox&quot;</li>
<li>create a patient without saving it and store it in a variable</li>
<li>save that patient you stored in a variable to the database</li>
<li>query for all patients in the database</li>
<li>query for the patient that has an id of 1</li>
<li>query for a patient by his/her name</li>
<li>query for all patients that have the ailment &quot;chicken pox&quot;</li>
<li>update a patient in the database of your choosing to have watermelon be its favorite food</li>
<li>delete a patient from the database</li>
</ul>
<h2 id="associations">Associations</h2>
<h3 id="reframing-10m">Reframing (10m)</h3>
<p>We use SQL because it is a relational database. But what does that really mean? Basically we want the ability to associate models in our domain. That can come in a variety of ways in a relational database, but at the heart of it is essentially this:</p>
<p>One model has many other instances of another model. And that other model belongs to the original. Not really clear, eh?</p>
<p>Let&apos;s take a look at an example in the wild.</p>
<p>With the application Facebook, there are many users. Each of these users have several models associated with them. Let&apos;s look at one more closely. We&apos;ll be looking at posts(status updates)</p>
<p>The first model we&apos;ll be looking at is Users. The second is Posts.</p>
<p>A User has many Posts
And every Post belongs to a certain user.</p>
<blockquote>
<p>Note the plurality of the nouns used in these two sentences</p>
</blockquote>
<p>When we start organizing our objects in this manner and program these associations, it becomes much easier to query our database for what we need. IE. If we were on Adam&apos;s facebook page, it wouldn&apos;t make sense for us to query EVERY post in facebook and then do <code>.where(facebook_user: &quot;Adam&quot;)</code> That would get really expensive. Instead we can do something like, <code>adam.posts</code> and then BAM, we got all of adam&apos;s posts.</p>
<blockquote>
<p>note that this is just speaking at a high level and not neccessarily actual code, though some of it actually is!</p>
</blockquote>
<p>Let&apos;s see what some of this stuff looks like in code. We&apos;re going to be adding an instructor model to our program.</p>
<h3 id="updating-schema-wdi-i-do-10m">Updating Schema - WDI (I do - 10m)</h3>
<p>The first thing I want to do is update my schema to add another table and reflect the association.</p>
<p>In <code>wdi_schema.sql</code>:</p>
<pre><code class="lang-sql"><span class="hljs-operator"><span class="hljs-keyword">DROP</span> <span class="hljs-keyword">TABLE</span> <span class="hljs-keyword">IF</span> <span class="hljs-keyword">EXISTS</span> students;</span>
<span class="hljs-operator"><span class="hljs-keyword">DROP</span> <span class="hljs-keyword">TABLE</span> <span class="hljs-keyword">IF</span> <span class="hljs-keyword">EXISTS</span> instructors;</span>

<span class="hljs-operator"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> students (
  <span class="hljs-keyword">id</span> <span class="hljs-built_in">SERIAL</span> PRIMARY <span class="hljs-keyword">KEY</span>,
  first_name <span class="hljs-built_in">TEXT</span> <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,
  last_name <span class="hljs-built_in">TEXT</span> <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,
  age <span class="hljs-built_in">INT</span> <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,
  job <span class="hljs-built_in">TEXT</span>,
  instructor_id <span class="hljs-built_in">INT</span>
);</span>

<span class="hljs-operator"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> instructors (
  <span class="hljs-keyword">id</span> <span class="hljs-built_in">SERIAL</span> PRIMARY <span class="hljs-keyword">KEY</span>,
  first_name <span class="hljs-built_in">TEXT</span> <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,
  last_name <span class="hljs-built_in">TEXT</span> <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,
  age <span class="hljs-built_in">INT</span> <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>
);</span>
</code></pre>
<p>Lets go ahead and update the database to reflect our current schema in the terminal:</p>
<pre><code class="lang-bash">$ psql <span class="hljs-operator">-d</span> wdi &lt; wdi_schema.sql
</code></pre>
<h3 id="updating-schema-hopsital-you-do-10m">Updating Schema - Hopsital (You do - 10m)</h3>
<ul>
<li>For the Hospital application we&apos;ll be adding a Doctor model</li>
<li>Create a new table for doctors in postgres it should have the following attributes<ul>
<li>first_name</li>
<li>last_name</li>
<li>specialty</li>
</ul>
</li>
<li>make sure to add an attribute to patients so that they belong to a doctor</li>
<li>load the schema to the database</li>
</ul>
<h3 id="updating-class-definitions-wdi-i-do-10m">Updating Class Definitions - WDI (I do 10m)</h3>
<p>Next I want to create a new file for my Instructor AR Class definition <code>$ touch models/instructor.rb</code>. In it i&apos;ll put:</p>
<pre><code class="lang-ruby"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Instructor</span> <span class="hljs-inheritance">&lt; <span class="hljs-parent">ActiveRecord::Base</span></span></span>
  has_many <span class="hljs-symbol">:students</span>
<span class="hljs-keyword">end</span>
</code></pre>
<p>In my <code>models/student.rb</code>:</p>
<pre><code class="lang-ruby"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Student</span> <span class="hljs-inheritance">&lt; <span class="hljs-parent">ActiveRecord::Base</span></span></span>
  belongs_to <span class="hljs-symbol">:instructor</span>
<span class="hljs-keyword">end</span>
</code></pre>
<blockquote>
<p>note the plurality of students and singularity of instructor</p>
</blockquote>
<p>we also need to include the <code>models/instructor.rb</code> file into our <code>app.rb</code> so in <code>app.rb</code> we need to add</p>
<pre><code class="lang-ruby">require_relative <span class="hljs-string">&quot;models/instructor&quot;</span>
</code></pre>
<h3 id="updating-class-defintions-hospital-you-do-5m">Updating Class Defintions - Hospital (You do 5m)</h3>
<ul>
<li>Create a file that will contain your AR class definition for Doctor</li>
<li>make sure to link that file in your main application file</li>
<li>add corresponding associations</li>
</ul>
<h3 id="association-helper-methods-wdi-i-do-30-m">Association helper methods - WDI (I do 30 m)</h3>
<p>So we added some code, but we&apos;re not entirely sure what that did.</p>
<p>Basically when we added those two lines of code <code>has_many :students</code> <code>belongs_to :instructor</code> we created some helper methods that allow us to query the database more effectively.</p>
<p>Lets create some objects so we can see what were talking about:</p>
<pre><code class="lang-ruby">jesse = <span class="hljs-constant">Instructor</span>.create(<span class="hljs-symbol">first_name:</span> <span class="hljs-string">&quot;Jesse&quot;</span>, <span class="hljs-symbol">last_name:</span> <span class="hljs-string">&quot;Shawl&quot;</span>, <span class="hljs-symbol">age:</span> <span class="hljs-number">26</span>)
adrian = <span class="hljs-constant">Instructor</span>.create(<span class="hljs-symbol">first_name:</span> <span class="hljs-string">&quot;Adrian&quot;</span>, <span class="hljs-symbol">last_name:</span> <span class="hljs-string">&quot;Maseda&quot;</span>, <span class="hljs-symbol">age:</span> <span class="hljs-number">28</span>)

<span class="hljs-constant">Student</span>.create(<span class="hljs-symbol">first_name:</span> <span class="hljs-string">&quot;Bob&quot;</span>, <span class="hljs-symbol">last_name:</span> <span class="hljs-string">&quot;Smith&quot;</span>, <span class="hljs-symbol">age:</span> <span class="hljs-number">55</span>, <span class="hljs-symbol">job:</span> <span class="hljs-string">&quot;Circus Clown&quot;</span>, <span class="hljs-symbol">instructor:</span> jesse)
<span class="hljs-constant">Student</span>.create(<span class="hljs-symbol">first_name:</span> <span class="hljs-string">&quot;Joey&quot;</span>, <span class="hljs-symbol">last_name:</span> <span class="hljs-string">&quot;Tribiana&quot;</span>, <span class="hljs-symbol">age:</span> <span class="hljs-number">42</span>, <span class="hljs-symbol">job:</span> <span class="hljs-string">&quot;Actor&quot;</span>, <span class="hljs-symbol">instructor:</span> jesse)
<span class="hljs-constant">Student</span>.create(<span class="hljs-symbol">first_name:</span> <span class="hljs-string">&quot;Chandler&quot;</span>, <span class="hljs-symbol">last_name:</span> <span class="hljs-string">&quot;Bing&quot;</span>, <span class="hljs-symbol">age:</span> <span class="hljs-number">42</span>, <span class="hljs-symbol">job:</span> <span class="hljs-string">&quot;Transpondster&quot;</span>, <span class="hljs-symbol">instructor:</span> adrian)
<span class="hljs-constant">Student</span>.create(<span class="hljs-symbol">first_name:</span> <span class="hljs-string">&quot;Monica&quot;</span>, <span class="hljs-symbol">last_name:</span> <span class="hljs-string">&quot;Geller&quot;</span>, <span class="hljs-symbol">age:</span> <span class="hljs-number">42</span>, <span class="hljs-symbol">job:</span> <span class="hljs-string">&quot;chef&quot;</span>, <span class="hljs-symbol">instructor:</span> adrian)
</code></pre>
<p>Now that we have this association, we can now query the database more effectively.</p>
<p>If i want to get all of Jesse&apos;s students or set Jesse&apos;s students I can now write this code:</p>
<pre><code class="lang-ruby">jesse = <span class="hljs-constant">Instructor</span>.find_by(<span class="hljs-symbol">first_name:</span> <span class="hljs-string">&quot;Jesse&quot;</span>)
jesse.students
<span class="hljs-comment"># will return all students that belong to Jesse, this is .students being used as a getter method</span>

jesse.students = [<span class="hljs-constant">Student</span>.first, <span class="hljs-constant">Student</span>.last]
<span class="hljs-comment"># this is .students being used as a setter method</span>
</code></pre>
<blockquote>
<p>note that when students is being used as a setter method above, it actually changes the instructor_id column for those students to match Jesse&apos;s primary ID. Any student that previously was assigned to Jesse and not reassigned in the setter will now have an instructor_id of nil</p>
</blockquote>
<p>Alternatively if I wanted to get a student&apos;s instructor I could write this code:</p>
<pre><code class="lang-ruby">bob = <span class="hljs-constant">Student</span>.find_by(<span class="hljs-symbol">first_name:</span> <span class="hljs-string">&quot;Bob&quot;</span>)
bob.instructor
<span class="hljs-comment"># will return bob&apos;s instructor, this is .instructor being used as a getter method</span>

adrian = <span class="hljs-constant">Instructor</span>.last
bob.instructor = adrian
<span class="hljs-comment"># this .instructor being used as a setter method, and now bob&apos;s instructor is adrian</span>
</code></pre>
<p>We can also create new students under a certain instructor by doing the following:</p>
<pre><code class="lang-ruby">jesse.students.create(<span class="hljs-symbol">first_name:</span> <span class="hljs-string">&quot;baskin&quot;</span>, <span class="hljs-symbol">last_name:</span> <span class="hljs-string">&quot;robbins&quot;</span>, <span class="hljs-symbol">age:</span> <span class="hljs-number">34</span>, <span class="hljs-symbol">job:</span> <span class="hljs-string">&quot;icecream&quot;</span>)
<span class="hljs-comment"># this will create a new student that belongs to the Instructor object named jesse.</span>
</code></pre>
<blockquote>
<p>note that we did not pass in an instructor id above. Active Record is smart and does that for us.</p>
</blockquote>
<h3 id="association-helper-methods-hospital-you-do-15m">Association helper methods - Hospital (you do 15m)</h3>
<ul>
<li>Create at least 2 doctors in your database</li>
<li>Create at least 4 patients in your database that belong to one of the two doctors</li>
<li>Query the data base for all of patients belonging to one of the doctors</li>
<li>Query the database for the doctor of the last patient you created</li>
<li>Create a new patient without a doctor id, and use the setter method to associate a doctor to that patient</li>
</ul>
<h3 id="seeding-a-database-wdi-15m">Seeding a database - WDI (15m)</h3>
<p>Seeding a database is not all that different from the things we&apos;ve been doing today. What&apos;s the purpose of seed data? (ST-WG)</p>
<p>We want some sort of data in our database so that we can test our applications. Let&apos;s create our seed file in the terminal: <code>$ touch config/seeds.rb</code></p>
<p>In our <code>config/seeds.rb</code> file let&apos;s put the following:</p>
<pre><code class="lang-ruby"><span class="hljs-keyword">require</span> <span class="hljs-string">&quot;pg&quot;</span>
<span class="hljs-keyword">require</span> <span class="hljs-string">&quot;active_record&quot;</span>
<span class="hljs-keyword">require</span> <span class="hljs-string">&quot;pry&quot;</span>

require_relative <span class="hljs-string">&quot;../models/student&quot;</span>
require_relative <span class="hljs-string">&quot;../models/instructor&quot;</span>

require_relative <span class="hljs-string">&quot;../config/db.rb&quot;</span>


<span class="hljs-constant">Instructor</span>.destroy_all
<span class="hljs-constant">Student</span>.destroy_all
<span class="hljs-comment"># destroys existing data in database</span>

robin = <span class="hljs-constant">Instructor</span>.create(<span class="hljs-symbol">first_name:</span> <span class="hljs-string">&quot;robin&quot;</span>, <span class="hljs-symbol">last_name:</span> <span class="hljs-string">&quot;thomas&quot;</span>, <span class="hljs-symbol">age:</span> <span class="hljs-number">26</span>)
adam = <span class="hljs-constant">Instructor</span>.create(<span class="hljs-symbol">first_name:</span> <span class="hljs-string">&quot;adam&quot;</span>, <span class="hljs-symbol">last_name:</span> <span class="hljs-string">&quot;bray&quot;</span>, <span class="hljs-symbol">age:</span> <span class="hljs-number">30</span>)
robin.students.create(<span class="hljs-symbol">first_name:</span> <span class="hljs-string">&quot;michael&quot;</span>, <span class="hljs-symbol">last_name:</span> <span class="hljs-string">&quot;scott&quot;</span>, <span class="hljs-symbol">age:</span> <span class="hljs-number">45</span>, <span class="hljs-symbol">job:</span> <span class="hljs-string">&quot;office manager&quot;</span>)
robin.students.create(<span class="hljs-symbol">first_name:</span> <span class="hljs-string">&quot;Dwight&quot;</span>, <span class="hljs-symbol">last_name:</span> <span class="hljs-string">&quot;Schrute&quot;</span>, <span class="hljs-symbol">age:</span> <span class="hljs-number">34</span>, <span class="hljs-symbol">job:</span> <span class="hljs-string">&quot;Assistant to the Regional Manager&quot;</span>)
adam.students.create(<span class="hljs-symbol">first_name:</span> <span class="hljs-string">&quot;Dee&quot;</span>, <span class="hljs-symbol">last_name:</span> <span class="hljs-string">&quot;Reynolds&quot;</span>, <span class="hljs-symbol">age:</span> <span class="hljs-number">32</span>, <span class="hljs-symbol">job:</span> <span class="hljs-string">&quot;Bartender&quot;</span>)
adam.students.create(<span class="hljs-symbol">first_name:</span> <span class="hljs-string">&quot;George&quot;</span>, <span class="hljs-symbol">last_name:</span> <span class="hljs-string">&quot;Costanza&quot;</span>, <span class="hljs-symbol">age:</span> <span class="hljs-number">45</span>, <span class="hljs-symbol">job:</span> <span class="hljs-string">&quot;toner seller&quot;</span>)
</code></pre>
<h3 id="seeding-a-database-hopsital-you-do-10m">Seeding a database - Hopsital ( you do- 10m)</h3>
<ul>
<li>create a seed file that contains all dependencies and establish connection to database /w Active Record</li>
<li>in the seed file create at least 2 doctors and 4 patients</li>
<li>make sure you destroy all objects before creating new ones</li>
</ul>
<h3 id="appendix">Appendix</h3>
<h4 id="instance-vs-class">Instance vs Class</h4>
<table>
<thead>
<tr>
<th>method</th>
<th style="text-align:center">instance</th>
<th style="text-align:center">class</th>
</tr>
</thead>
<tbody>
<tr>
<td>.new</td>
<td style="text-align:center"></td>
<td style="text-align:center">x</td>
</tr>
<tr>
<td>.save</td>
<td style="text-align:center">x</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>.create</td>
<td style="text-align:center"></td>
<td style="text-align:center">x</td>
</tr>
<tr>
<td>attribute accessors</td>
<td style="text-align:center">x</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>.all</td>
<td style="text-align:center"></td>
<td style="text-align:center">x</td>
</tr>
<tr>
<td>.find</td>
<td style="text-align:center"></td>
<td style="text-align:center">x</td>
</tr>
<tr>
<td>.find_by</td>
<td style="text-align:center"></td>
<td style="text-align:center">x</td>
</tr>
<tr>
<td>.where</td>
<td style="text-align:center"></td>
<td style="text-align:center">x</td>
</tr>
<tr>
<td>.update</td>
<td style="text-align:center">x</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>.destroy</td>
<td style="text-align:center">x</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>.destroy_all</td>
<td style="text-align:center"></td>
<td style="text-align:center">x</td>
</tr>
</tbody>
</table>
<h4 id="conventions">Conventions</h4>
<table>
<thead>
<tr>
<th>description</th>
<th>Rule</th>
</tr>
</thead>
<tbody>
<tr>
<td>table names</td>
<td>snake case and plural</td>
</tr>
<tr>
<td>model file names</td>
<td>snake case and singular</td>
</tr>
<tr>
<td>model definition</td>
<td>Camel case and singular</td>
</tr>
<tr>
<td>argument for has_many</td>
<td>snake case and plural</td>
</tr>
<tr>
<td>argument for belongs_to</td>
<td>snake case and singular</td>
</tr>
<tr>
<td>more to follow....</td>
<td></td>
</tr>
</tbody>
</table>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../../04-ruby-mvc-sinatra/databases/readme.html" class="navigation navigation-prev " aria-label="Previous page: Databases"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../../04-ruby-mvc-sinatra/sinatra-rest/readme.html" class="navigation navigation-next " aria-label="Next page: Sinatra &amp; REST"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../../gitbook/app.js"></script>

<script>
require(["gitbook"], function(gitbook) {
    var config = {"fontSettings":{"theme":null,"family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
