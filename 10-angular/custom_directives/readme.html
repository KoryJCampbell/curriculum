<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>Custom Directives | Welcome to GA&#39;s WDI-DC</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.6.6">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="../../gitbook/style.css">
    
        
        <link rel="stylesheet" href="../../gitbook/plugins/gitbook-plugin-highlight/website.css">
        
    
        
        <link rel="stylesheet" href="../../gitbook/plugins/gitbook-plugin-search/search.css">
        
    
        
        <link rel="stylesheet" href="../../gitbook/plugins/gitbook-plugin-fontsettings/website.css">
        
    
    

        
    
    
    <link rel="next" href="../../10-angular/firebase_in_angular/readme.html" />
    
    
    <link rel="prev" href="../../10-angular/readme.html" />
    

        
    </head>
    <body>
        
        
    <div class="book"
        data-level="7.3"
        data-chapter-title="Custom Directives"
        data-filepath="10-angular/custom_directives/readme.md"
        data-basepath="../.."
        data-revision="Fri Dec 18 2015 13:29:34 GMT+0000 (UTC)"
        data-innerlanguage="">
    

<div class="book-summary">
    <nav role="navigation">
        <ul class="summary">
            
            
            
            

            

            
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../../index.html">
                
                        <i class="fa fa-check"></i>
                        
                        An Introduction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="01-front-end-fundamentals/readme.html">
            
                
                    <a href="../../01-front-end-fundamentals/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        Front End Fundamentals
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1" data-path="01-front-end-fundamentals/command-line/readme.html">
            
                
                    <a href="../../01-front-end-fundamentals/command-line/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                        Command Line Interface
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="01-front-end-fundamentals/git/readme.html">
            
                
                    <a href="../../01-front-end-fundamentals/git/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.</b>
                        
                        Git
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="01-front-end-fundamentals/intro-to-web-and-html/readme.html">
            
                
                    <a href="../../01-front-end-fundamentals/intro-to-web-and-html/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.3.</b>
                        
                        Intro to Web and HTML
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="01-front-end-fundamentals/css/readme.html">
            
                
                    <a href="../../01-front-end-fundamentals/css/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.4.</b>
                        
                        CSS
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="01-front-end-fundamentals/javascript-data-types/readme.html">
            
            <span><b>1.5.</b> JavaScript Data Types</span>
            
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="01-front-end-fundamentals/javascript-loops-conditionals/readme.html">
            
            <span><b>1.6.</b> JavaScript Loops and Conditionals</span>
            
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="01-front-end-fundamentals/javascript-objects-functions/readme.html">
            
                
                    <a href="../../01-front-end-fundamentals/javascript-objects-functions/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.7.</b>
                        
                        JavaScript Objects and Functions
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="01-front-end-fundamentals/javascript-DOM/readme.html">
            
                
                    <a href="../../01-front-end-fundamentals/javascript-DOM/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.8.</b>
                        
                        JavaScript DOM
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2" data-path="02-intermediate-front-end/readme.html">
            
                
                    <a href="../../02-intermediate-front-end/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        Intermediate Front End
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="02-intermediate-front-end/scope-context-closures/readme.html">
            
                
                    <a href="../../02-intermediate-front-end/scope-context-closures/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                        Scope, Context, and Closures
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1" data-path="02-intermediate-front-end/scope-context-closures/scope.html">
            
                
                    <a href="../../02-intermediate-front-end/scope-context-closures/scope.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.1.</b>
                        
                        Scope
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.1.2" data-path="02-intermediate-front-end/scope-context-closures/context.html">
            
                
                    <a href="../../02-intermediate-front-end/scope-context-closures/context.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.2.</b>
                        
                        Context
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.1.3" data-path="02-intermediate-front-end/scope-context-closures/closures.html">
            
                
                    <a href="../../02-intermediate-front-end/scope-context-closures/closures.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.3.</b>
                        
                        Closures
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="02-intermediate-front-end/events-and-callbacks/readme.html">
            
                
                    <a href="../../02-intermediate-front-end/events-and-callbacks/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                        Events and Callbacks
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="02-intermediate-front-end/git_branching/readme.html">
            
                
                    <a href="../../02-intermediate-front-end/git_branching/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.</b>
                        
                        Git Branching
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="02-intermediate-front-end/jquery/jquery-intro-selectors.html">
            
                
                    <a href="../../02-intermediate-front-end/jquery/jquery-intro-selectors.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.4.</b>
                        
                        jQuery
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="02-intermediate-front-end/jquery/jquery-two.html">
            
                
                    <a href="../../02-intermediate-front-end/jquery/jquery-two.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.5.</b>
                        
                        jQuery 2
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="02-intermediate-front-end/workflows/lesson_plan.html">
            
            <span><b>2.6.</b> Workflows</span>
            
            
        </li>
    
        <li class="chapter " data-level="2.7" data-path="02-intermediate-front-end/css2/readme.html">
            
                
                    <a href="../../02-intermediate-front-end/css2/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.7.</b>
                        
                        CSS 2 (Layout &amp; Fonts)
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" data-path="04-ruby-mvc-sinatra/readme.html">
            
                
                    <a href="../../04-ruby-mvc-sinatra/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        Ruby + MVC with Sinatra
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1" data-path="04-ruby-mvc-sinatra/ruby-basics/readme.html">
            
                
                    <a href="../../04-ruby-mvc-sinatra/ruby-basics/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                        Ruby Basics
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="04-ruby-mvc-sinatra/ruby-enumerables/readme.html">
            
                
                    <a href="../../04-ruby-mvc-sinatra/ruby-enumerables/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.</b>
                        
                        Ruby Enumerables
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="04-ruby-mvc-sinatra/problem_modeling/readme.html">
            
            <span><b>3.3.</b> Problem Modeling</span>
            
            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="04-ruby-mvc-sinatra/domain_modeling/readme.html">
            
                
                    <a href="../../04-ruby-mvc-sinatra/domain_modeling/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.4.</b>
                        
                        Domain Modeling
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.5" data-path="04-ruby-mvc-sinatra/databases/readme.html">
            
                
                    <a href="../../04-ruby-mvc-sinatra/databases/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.5.</b>
                        
                        Databases
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.6" data-path="04-ruby-mvc-sinatra/active-record-intro/readme.html">
            
                
                    <a href="../../04-ruby-mvc-sinatra/active-record-intro/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.6.</b>
                        
                        Active Record
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.7" data-path="04-ruby-mvc-sinatra/sinatra-rest/readme.html">
            
                
                    <a href="../../04-ruby-mvc-sinatra/sinatra-rest/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.7.</b>
                        
                        Sinatra &amp; REST
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.8" data-path="04-ruby-mvc-sinatra/sinatra-and-activerecord/readme.html">
            
                
                    <a href="../../04-ruby-mvc-sinatra/sinatra-and-activerecord/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.8.</b>
                        
                        Sinatra &amp; Active Record
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4" data-path="05-mvc-with-rails/readme.html">
            
                
                    <a href="../../05-mvc-with-rails/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        MVC with Rails
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1" data-path="05-mvc-with-rails/rspec/readme.html">
            
                
                    <a href="../../05-mvc-with-rails/rspec/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.</b>
                        
                        Unit Testing with RSpec
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="05-mvc-with-rails/MVC-intro-to-rails/readme.html">
            
                
                    <a href="../../05-mvc-with-rails/MVC-intro-to-rails/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.2.</b>
                        
                        MVC Intro to Rails
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="05-mvc-with-rails/rails-models-and-migrations/readme.html">
            
                
                    <a href="../../05-mvc-with-rails/rails-models-and-migrations/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.3.</b>
                        
                        Models and Migrations
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="05-mvc-with-rails/rails-views-and-controllers/readme.html">
            
                
                    <a href="../../05-mvc-with-rails/rails-views-and-controllers/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.4.</b>
                        
                        Views and Controllers
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.5" data-path="05-mvc-with-rails/rails-routes-and-resources/readme.html">
            
                
                    <a href="../../05-mvc-with-rails/rails-routes-and-resources/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.5.</b>
                        
                        Routes and Resources
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.6" data-path="05-mvc-with-rails/rails-helpers/readme.html">
            
                
                    <a href="../../05-mvc-with-rails/rails-helpers/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.6.</b>
                        
                        Helpers
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.7" data-path="05-mvc-with-rails/rails-error-handling/readme.html">
            
                
                    <a href="../../05-mvc-with-rails/rails-error-handling/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.7.</b>
                        
                        Error Handling and Validations
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.8" data-path="05-mvc-with-rails/rails-sessions-and-auth/readme.html">
            
                
                    <a href="../../05-mvc-with-rails/rails-sessions-and-auth/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.8.</b>
                        
                        Sessions and Auth
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.9" data-path="05-mvc-with-rails/rails-deployment/readme.html">
            
                
                    <a href="../../05-mvc-with-rails/rails-deployment/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.9.</b>
                        
                        Deployment
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5" data-path="07-apis-express-ajax/readme.html">
            
                
                    <a href="../../07-apis-express-ajax/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        APIs/Express/AJAX
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1" data-path="07-apis-express-ajax/apis/readme.html">
            
                
                    <a href="../../07-apis-express-ajax/apis/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.1.</b>
                        
                        Building APIs in Rails
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="07-apis-express-ajax/ajax/readme.html">
            
                
                    <a href="../../07-apis-express-ajax/ajax/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.2.</b>
                        
                        AJAX
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="07-apis-express-ajax/prototypes_and_constructors/readme.html">
            
                
                    <a href="../../07-apis-express-ajax/prototypes_and_constructors/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.3.</b>
                        
                        Prototypes and Constructors
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.4" data-path="07-apis-express-ajax/express_intro/readme.html">
            
                
                    <a href="../../07-apis-express-ajax/express_intro/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.4.</b>
                        
                        Intro to Express
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="6" data-path="08-single-page-web-apps/readme.html">
            
                
                    <a href="../../08-single-page-web-apps/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                        Single Page Web Apps
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.1" data-path="08-single-page-web-apps/express_2/readme.html">
            
                
                    <a href="../../08-single-page-web-apps/express_2/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.</b>
                        
                        Express Routing / APIs
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="08-single-page-web-apps/mongo_mongoose/readme.html">
            
                
                    <a href="../../08-single-page-web-apps/mongo_mongoose/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.2.</b>
                        
                        Mongo and Mongoose
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.3" data-path="08-single-page-web-apps/node-express-user-authentication/readme.html">
            
                
                    <a href="../../08-single-page-web-apps/node-express-user-authentication/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.3.</b>
                        
                        Local Authentication using Passport
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.4" data-path="08-single-page-web-apps/oauth-via-3rd-party-apps/readme.html">
            
            <span><b>6.4.</b> OAuth using Passport</span>
            
            
        </li>
    
        <li class="chapter " data-level="6.5" data-path="08-single-page-web-apps/oojs1_read/readme.html">
            
                
                    <a href="../../08-single-page-web-apps/oojs1_read/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.5.</b>
                        
                        Object-Oriented FE JS: R / CRUD
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.6" data-path="08-single-page-web-apps/oojs2_create_update_destroy/readme.html">
            
                
                    <a href="../../08-single-page-web-apps/oojs2_create_update_destroy/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.6.</b>
                        
                        Object-Oriented FE JS: CUD / CRUD
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.7" data-path="08-single-page-web-apps/git-teams/readme.html">
            
                
                    <a href="../../08-single-page-web-apps/git-teams/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.7.</b>
                        
                        Git Team Workflows
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.8" data-path="08-single-page-web-apps/responsive-web-design/readme.html">
            
                
                    <a href="../../08-single-page-web-apps/responsive-web-design/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.8.</b>
                        
                        Responsive Web Design
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.9" data-path="08-single-page-web-apps/tdd/readme.html">
            
                
                    <a href="../../08-single-page-web-apps/tdd/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.9.</b>
                        
                        TDD JS using Jasmine
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="7" data-path="10-angular/readme.html">
            
                
                    <a href="../../10-angular/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.</b>
                        
                        MVW with Angular
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="7.1" data-path="10-angular/angular_intro_controllers_directives/readme.html">
            
            <span><b>7.1.</b> Angular Intro: Controllers &amp; Directives</span>
            
            
        </li>
    
        <li class="chapter " data-level="7.2" data-path="10-angular/services_templates_and_routing/readme.html">
            
            <span><b>7.2.</b> Services, Templates, and Routing</span>
            
            
        </li>
    
        <li class="chapter active" data-level="7.3" data-path="10-angular/custom_directives/readme.html">
            
                
                    <a href="../../10-angular/custom_directives/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.3.</b>
                        
                        Custom Directives
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.4" data-path="10-angular/firebase_in_angular/readme.html">
            
                
                    <a href="../../10-angular/firebase_in_angular/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.4.</b>
                        
                        AngularFire: Firebase &amp; Angular
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.5" data-path="10-angular/angular-vs-rails.html">
            
                
                    <a href="../../10-angular/angular-vs-rails.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.5.</b>
                        
                        Angular vs. Rails
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.6" data-path="11-multi-track/readme.html">
            
                
                    <a href="../../11-multi-track/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.6.</b>
                        
                        Back and Front of Front End
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="7.6.1" >
            
            <span><b>7.6.1.</b> BackBone</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="7.6.1.1" data-path="11-multi-track/bb_models_collections/readme.html">
            
                
                    <a href="../../11-multi-track/bb_models_collections/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.6.1.1.</b>
                        
                        Models and Collections
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.6.1.2" data-path="11-multi-track/bb_views_part1/readme.html">
            
                
                    <a href="../../11-multi-track/bb_views_part1/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.6.1.2.</b>
                        
                        Views (part 1)
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.6.1.3" data-path="11-multi-track/bb_views_part2/readme.html">
            
                
                    <a href="../../11-multi-track/bb_views_part2/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.6.1.3.</b>
                        
                        Views (part 2)
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.6.1.4" data-path="11-multi-track/bb_routers/readme.html">
            
                
                    <a href="../../11-multi-track/bb_routers/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.6.1.4.</b>
                        
                        Routers
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="7.6.2" >
            
            <span><b>7.6.2.</b> Front End</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="7.6.2.1" data-path="11-multi-track/bootstrap/readme.html">
            
                
                    <a href="../../11-multi-track/bootstrap/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.6.2.1.</b>
                        
                        Bootstrap
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.6.2.2" data-path="11-multi-track/flexbox/readme.html">
            
                
                    <a href="../../11-multi-track/flexbox/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.6.2.2.</b>
                        
                        Flex Box
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.6.2.3" data-path="11-multi-track/foundation/readme.html">
            
                
                    <a href="../../11-multi-track/foundation/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.6.2.3.</b>
                        
                        Foundation
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.6.2.4" data-path="11-multi-track/intro-to-php/readme.html">
            
                
                    <a href="../../11-multi-track/intro-to-php/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.6.2.4.</b>
                        
                        Intro to PHP
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.6.2.5" data-path="11-multi-track/jquery-plugins/readme.html">
            
                
                    <a href="../../11-multi-track/jquery-plugins/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.6.2.5.</b>
                        
                        jQuery Plugins
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.6.2.6" data-path="11-multi-track/mapping/readme.html">
            
                
                    <a href="../../11-multi-track/mapping/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.6.2.6.</b>
                        
                        Mapping
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.6.2.7" data-path="11-multi-track/pseudo-selectors/readme.html">
            
                
                    <a href="../../11-multi-track/pseudo-selectors/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.6.2.7.</b>
                        
                        Pseudo Selectors
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.6.2.8" data-path="11-multi-track/sass1-basic-reuse/readme.html">
            
                
                    <a href="../../11-multi-track/sass1-basic-reuse/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.6.2.8.</b>
                        
                        Sass 1: Basic Reuse
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.6.2.9" data-path="11-multi-track/sass2-control-directives/readme.html">
            
                
                    <a href="../../11-multi-track/sass2-control-directives/readme.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.6.2.9.</b>
                        
                        Sass 2: Control Directives
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    


            
            <li class="divider"></li>
            <li>
                <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                    Published with GitBook
                </a>
            </li>
            
        </ul>
    </nav>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header" role="navigation">
    <!-- Actions Left -->
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../../" >Welcome to GA&#39;s WDI-DC</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1" role="main">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h1 id="custom-directives">Custom Directives</h1>
<h2 id="learning-objectives">Learning Objectives</h2>
<ul>
<li>DRY a given Angular app by extracting repeating logic and HTML into custom directives</li>
<li>Explain the purpose of each of the four directive options, and the four options for the &apos;restrict&apos; directive, E, A, C, M</li>
<li>Use a custom directive to render an array of objects</li>
<li>Use <code>link</code> method to set scope</li>
<li>Explain the difference between <code>@</code> and <code>=</code> in <code>scope</code> object</li>
</ul>
<p><a href="https://github.com/ga-dc/grumblr_angular/tree/resource-solution" target="_blank">Starter Code</a> |
<a href="https://github.com/ga-dc/grumblr_angular/releases/tag/3.0.1" target="_blank">Solution Code</a></p>
<pre><code>$ git fetch
$ git checkout resource-solution
</code></pre><p>Make sure the local api is running at localhost:3000 - <a href="https://github.com/ga-dc/grumblr_rails_api" target="_blank">https://github.com/ga-dc/grumblr_rails_api</a></p>
<h3 id="you-do">You do:</h3>
<p>Make every Grumble on the index, look like the Grumble in the show.</p>
<blockquote>
<p>Yes, this is a contrived example to create repetitive code.</p>
</blockquote>
<p>Our focus is going to be...</p>
<h2 id="drying-the-html">DRYing the HTML</h2>
<h5 id="what-html-isnt-dry">What HTML isn&apos;t DRY?</h5>
<p>The <code>index</code> and <code>show</code> pages have almost identical HTML, as do the <code>new</code> and <code>edit</code> pages.</p>
<h5 id="why-would-we-want-to-dry-the-html">Why would we want to DRY the HTML?</h5>
<p>Continuity across an app is a big part of UX. If a Grumble appears one way on one page, and another way on another page, that creates confusion for users. To that end, we can copy and paste HTML from one view to another, but when inevitably we want to change that HTML, it means copying and pasting again.</p>
<p>We&apos;re going to do this with...</p>
<h2 id="custom-directives">Custom directives</h2>
<h5 id="what-are-some-standard-directives-weve-seen-so-far">What are some <em>standard</em> directives we&apos;ve seen so far?</h5>
<p>We&apos;ve seen a lot of attributes: <code>ng-repeat</code>, <code>ng-app</code>, and so on. But directives can also be entire elements. Angular lets you create, say, <code>&lt;grumble&gt;</code> and <code>&lt;comment&gt;</code>.</p>
<h5 id="so-what-is-a-directive-anyway">So what <em>is</em> a directive, anyway?</h5>
<p>Basically, a directive is some HTML defined by Angular. A directive can be an attribute, an element, a class, or even a comment.</p>
<p>All HTML elements have behaviors: anchors take you to a page when you click on them, textareas let you write stuff inside them, and so on. Angular lets you create your own HTML elements and give them behaviors you define.</p>
<p>Ever wished there was a <code>&lt;comment-box&gt;</code> or a <code>&lt;random-bill-murray-img&gt;</code> element? Now you can make one.</p>
<p>One of Angular&apos;s sort-of &apos;mission statements&apos; is &apos;to be what HTML would have been if it was designed from the start with web apps in mind.&apos;</p>
<h3 id="you-can-think-of-directives-as-angular-elements">You can think of directives as &apos;Angular elements&apos;</h3>
<p>To help me keep straight what Angular&apos;s terms mean, I made a <a href="../angular-vs-rails.html">cheat sheet of which Angular terms map to which Rails terms</a>.</p>
<p>Directives are most like helpers in Rails.</p>
<h5 id="what-are-some-rails-helpers-you-remember">What are some Rails helpers you remember?</h5>
<p><code>form_for</code>, <code>link_to</code>, <code>render partial</code>, and so on.</p>
<h5 id="what-do-those-helpers-do">What do those helpers do?</h5>
<p>They all add HTML to a view.</p>
<h3 id="but-what-about-separating-my-concerns">&apos;But what about separating my concerns?&apos;</h3>
<p>You&apos;re discouraged from using the <code>onclick=</code> attribute, and now all of a sudden you&apos;re being told to use <code>ng-click=</code>?</p>
<h5 id="why-is-this-bad">Why is this bad?</h5>
<h5 id="why-is-this-good">Why is this good?</h5>
<p>I can think of a few reasons:</p>
<ol>
<li>We don&apos;t have to put event listeners everywhere</li>
<li>It makes the HTML easier to read, whereas in Backbone templates are sort of strewn about and it&apos;s not so easy to see which goes where</li>
<li>It makes the HTML make <em>more sense</em>, somehow. HTML is meant to tell you the function of content, and this lets you be much more specific about that function. It&apos;s (theoretically) easier to read than Javascript, and it&apos;s more useful than just defining semantics.</li>
</ol>
<h3 id="custom-directives-are-the-flagship-of-angular">Custom directives are the &apos;flagship&apos; of Angular</h3>
<p>Without them, Angular is just another MVC framework.</p>
<p>So: let&apos;s make one!</p>
<h2 id="grumble-show">Grumble <code>show</code></h2>
<p>Make sure the local api is running at localhost:3000 - <a href="https://github.com/ga-dc/grumblr_rails_api" target="_blank">https://github.com/ga-dc/grumblr_rails_api</a></p>
<ul>
<li><p>In <code>js/grumbles/index.html</code>, add this custom directive: <code>&lt;my-custom-directive&gt;&lt;/my-custom-directive&gt;</code>. Refresh the page, and you shouldn&apos;t see any changes.  The new directive doesn&apos;t do anything... yet.</p>
<p><strong>Note about self-closing tags:</strong> This directive doesn&apos;t have any text content, so you could use a self-closing tag, <code>&lt;my-custom-directive /&gt;</code>. However, Angular&apos;s pretty picky about self-closing tags. If your entire page goes blank when you&apos;re using a custom directive with a self-closing tag, try using open and close tags instead.</p>
</li>
<li><p>Now we&apos;ll give the directive its behavior. Let&apos;s make <code>js/grumbles/grumble.directive.js</code>.</p>
</li>
<li><p>Next we&apos;ll set up the actual Javascript. Directives look like pretty much every other module:</p>
</li>
</ul>
<pre><code class="lang-js">(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
  angular
  .module(<span class="hljs-string">&apos;grumbles&apos;</span>)
  .directive(<span class="hljs-string">&apos;myCustomDirective&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{

  });
})();
</code></pre>
<p>  One thing to note is that Angular expects you to write the directive&apos;s name as camelCase inside the directive <em>JS</em>, but as spine case inside the <em>HTML</em>. <code>.directive(&apos;myCustomDirective&apos;)</code> automatically turns into <code>&lt;my-custom-directive&gt;</code>.</p>
<ul>
<li>Now we&apos;ll tell the directive what to use as a template:</li>
</ul>
<pre><code class="lang-js">(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
  angular
  .module(<span class="hljs-string">&apos;grumbles&apos;</span>)
  .directive(<span class="hljs-string">&apos;myCustomDirective&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-keyword">return</span> {
      template: <span class="hljs-string">&apos;&lt;h1&gt;Hi There!&lt;/h1&gt;&apos;</span>
    }
  });
})();
</code></pre>
<ul>
<li>Finally, include <code>&lt;script src=&apos;js/grumbles/grumble.directive.js&apos;&gt;&lt;/script&gt;</code> in the app&apos;s main <code>index.html</code>.</li>
</ul>
<p>...and that&apos;s it! Run it, and see what happens.</p>
<h2 id="directive-options">Directive options</h2>
<p>Directives can be given a parameter called <code>link</code>. It&apos;ll automatically be run every time an instance of that directive is created.</p>
<p>For example:</p>
<pre><code class="lang-js">(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
  angular
  .module(<span class="hljs-string">&apos;grumbles&apos;</span>)
  .directive(<span class="hljs-string">&apos;myCustomDirective&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-keyword">return</span> {
      template: <span class="hljs-string">&apos;&lt;h1&gt;Hi There!&lt;/h1&gt;&apos;</span>,
      link: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;directive used&apos;</span>)
      }
    }
  });
})();
</code></pre>
<p>Now my console will print <code>directive used</code> once for every instance of <code>&lt;my-custom-directive&gt;</code> on a page. So on the <code>index</code> page, if there are 10 Grumbles, and I put <code>&lt;my-custom-directive&gt;</code> inside <code>ng-repeat</code>, <code>ng-repeat</code> will duplicate this directive 10 times, and I should see <code>hello</code> 10 times.</p>
<p>Angular actually passes into this <code>link</code> function an argument called <code>scope</code>. This is an object that&apos;s available <strong>both in the directive&apos;s JS and the directive&apos;s HTML</strong>. So anything I add to it in the JS will be available in the HTML, and vice-versa.</p>
<p>For instance, I&apos;m going to add a property called <code>myName</code> to <code>scope</code>. That will let me show the value of <code>myName</code> in the HTML.</p>
<pre><code class="lang-js">(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
  angular
  .module(<span class="hljs-string">&apos;grumbles&apos;</span>)
  .directive(<span class="hljs-string">&apos;myCustomDirective&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-keyword">return</span> {
      template: <span class="hljs-string">&apos;&lt;h1&gt;Hi There {{myName}}!&lt;/h1&gt;&apos;</span>,
      link: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">scope</span>)</span>{
        scope.myName = <span class="hljs-string">&apos;Slim Shady&apos;</span>;
      }
    }
  });
})();
</code></pre>
<h3 id="directive-methods">Directive methods</h3>
<p>You can add entire methods to scope and make those available in your HTML. I&apos;ll make a method that alerts my name:</p>
<pre><code class="lang-js">(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
  angular
  .module(<span class="hljs-string">&apos;grumbles&apos;</span>)
  .directive(<span class="hljs-string">&apos;myCustomDirective&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-keyword">return</span> {
      template: <span class="hljs-string">&apos;&lt;h1 ng-click=&apos;</span>complementMe()<span class="hljs-string">&apos;&gt;Hi There {{myName}}!&lt;/h1&gt;&apos;</span>,
      link: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">scope</span>)</span>{
        scope.myName = <span class="hljs-string">&apos;Slim Shady&apos;</span>;
        scope.complementMe = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
          alert(<span class="hljs-string">&apos;You&#x2019;re looking good today&apos;</span>);
        }
      }
    }
  });
})();
</code></pre>
<h3 id="directive-collisions">Directive collisions</h3>
<p>Check out what happens when I have an element called <code>my-custom-directive</code> with an attribute called <code>my-custom-directive</code>:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-title">my-custom-directive</span> <span class="hljs-attribute">data-my-custom-directive</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">my-custom-directive</span>&gt;</span>
</code></pre>
<p>I get a <code>$compile:multidir</code> error, which means Angular&apos;s telling me, &quot;Hey, you&apos;re trying to apply the same directive twice to one element.</p>
<p>You can fix this by telling Angular whether the <em>element</em> is the directive, or the <em>attribute</em> is the directive.</p>
<h2 id="what-kind-of-directive-do-you-want">What kind of directive do you want?</h2>
<p>By default, Angular makes every custom directive available as both an element and an attribute. It considers these to be the same:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-title">my-custom-directive</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">my-custom-directive</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">my-custom-directive</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
</code></pre>
<h3 id="restricting-your-directive-type">Restricting your directive type</h3>
<p>If you only want your directive to be available as an element, you add <code>restrict: &apos;E&apos;</code> to your directive. This will make angular use the <code>my-custom-directive</code> <em>element</em> and ignore the <code>my-custom-directive</code> attribute. If I add <code>restrict: &apos;A&apos;</code>, it does the opposite.</p>
<pre><code class="lang-js">(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
  angular
  .module(<span class="hljs-string">&apos;grumbles&apos;</span>)
  .directive(<span class="hljs-string">&apos;myCustomDirective&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-keyword">return</span> {
      template: <span class="hljs-string">&apos;&lt;h1 ng-click=&apos;</span>sayHi()<span class="hljs-string">&apos;&gt;Hi There {{myName}}!&lt;/h1&gt;&apos;</span>,
      restrict: <span class="hljs-string">&apos;E&apos;</span>,
      link: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">scope</span>)</span>{
        scope.myName = <span class="hljs-string">&apos;Slim Shady&apos;</span>;
    scope.sayHi = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
      alert(<span class="hljs-string">&apos;You&#x2019;re looking good today&apos;</span>);
    }
      }
    }
  });
})();
</code></pre>
<p>I mentioned before that custom directives can be elements, attibutes, comments, or classes. If you&apos;re looking for a mnemonic by which to remember these, use <code>MACE</code>: coMment, Attribute, Class, Element.</p>
<p>So <code>restrict: &apos;C&apos;</code> would make this work:</p>
<pre><code>&lt;div class=&apos;my-custom-directive&apos;&gt;&lt;/div&gt;
</code></pre><p>You could do <code>restrict: &apos;M&apos;</code> to make your directive availble as a comment. However, comments don&apos;t actually render any HTML. For instance:</p>
<pre><code>&lt;!-- directive:my-custom-directive --&gt;
</code></pre><p>I still see the <code>console.log</code> happening, but that&apos;s it.</p>
<p>If you want your directive to be availble as any of the four options, you add <code>restrict:&apos;MACE&apos;</code> to your directive, and you can use any combination in between.</p>
<h5 id="i-mentioned-that-by-default-angular-lets-you-use-a-custom-directive-as-an-element-or-an-attribute-this-means-the-default-value-of-restrict-is-what">I mentioned that by default Angular lets you use a custom directive as an element or an attribute. This means the default value of <code>restrict</code> is what?</h5>
<h3 id="do-you-want-your-directive-to-replace-the-html-that-calls-it-or-just-go-inside-it">Do you want your directive to <em>replace</em> the HTML that calls it, or just go inside it?</h3>
<p>If my directive looks like this:</p>
<pre><code class="lang-js">(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
  angular
  .module(<span class="hljs-string">&apos;grumbles&apos;</span>)
  .directive(<span class="hljs-string">&apos;myCustomDirective&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-keyword">return</span> {
      template: <span class="hljs-string">&apos;&lt;h1&gt;Hi there, {{myName}}!&lt;/h1&gt;&apos;</span>,
      restrict: <span class="hljs-string">&apos;E&apos;</span>,
      link: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">scope</span>)</span>{
        scope.myName = <span class="hljs-string">&apos;Slim Shady&apos;</span>;
      }
    }
  });
})();
</code></pre>
<p>...and my HTML looks like this:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-title">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">my-custom-directive</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">my-custom-directive</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
</code></pre>
<p>...what actually gets rendered in the browser is this:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-title">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">my-custom-directive</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">h1</span>&gt;</span>Hi there, Slim Shady!<span class="hljs-tag">&lt;/<span class="hljs-title">h1</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">my-custom-directive</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
</code></pre>
<p>I can add <code>replace: true</code> and that will have my template <em>replace</em> the element that calls my directive:</p>
<pre><code class="lang-js">(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
  angular
  .module(<span class="hljs-string">&apos;grumbles&apos;</span>)
  .directive(<span class="hljs-string">&apos;myCustomDirective&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-keyword">return</span> {
      template: <span class="hljs-string">&apos;&lt;h1&gt;Hi there, {{myName}}!&lt;/h1&gt;&apos;</span>,
      restrict: <span class="hljs-string">&apos;E&apos;</span>,
      replace: <span class="hljs-literal">true</span>,
      link: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">scope</span>)</span>{
        scope.myName = <span class="hljs-string">&apos;Slim Shady&apos;</span>;
      }
    }
  });
})();
</code></pre>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-title">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">h1</span>&gt;</span>Hi there, Slim Shady!<span class="hljs-tag">&lt;/<span class="hljs-title">h1</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
</code></pre>
<h2 id="attributes">Attributes</h2>
<p>So far we&apos;ve seen a bunch of ways of getting things <em>out</em> of the Javascript and <em>into</em> the HTML. But how do we get things out of the HTML and into the Javascript?</p>
<p>We do so using attributes:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">&apos;grumbles&apos;</span> <span class="hljs-attribute">ng-repeat</span>=<span class="hljs-value">&apos;grumble in GrumbleIndexViewModel.grumbles&apos;</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">my-custom-directive</span> <span class="hljs-attribute">data-some-attribute</span>=<span class="hljs-value">&apos;I&#x2019;m an attribute!&apos;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">my-custom-directive</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
</code></pre>
<pre><code class="lang-js">(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
  angular
  .module(<span class="hljs-string">&apos;grumbles&apos;</span>)
  .directive(<span class="hljs-string">&apos;myCustomDirective&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-keyword">return</span> {
      template: <span class="hljs-string">&apos;&lt;h1&gt;Hi there, {{myName}}! {{someAttribute}}&lt;/h1&gt;&apos;</span>,
      scope: {
        someAttribute: <span class="hljs-string">&apos;@&apos;</span>
      },
      link: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">scope</span>)</span>{
        scope.myName = <span class="hljs-string">&apos;Slim Shady&apos;</span>;
      }
    }
  });
})();
</code></pre>
<p>We&apos;ll get to the <code>@</code> in a bit. Note that Angular automatically turned <code>some-attribute</code> from spine-case to camelCase.</p>
<p>This is <strong>extremely useful</strong> because it gives you a way of passing data directly into your directive via the attribute.</p>
<h3 id="a-note-about-attributes-and-validating-your-html">A note about attributes and validating your HTML</h3>
<p><strong>Why would you want to validate your HTML in the first place?</strong> Aren&apos;t we kind-of-past that? Angular can break really easily when, say, you forget a closing <code>&lt;/div&gt;</code> tag.</p>
<p>Check out what happens when I run the HTML validator with this code inside it:</p>
<pre><code class="lang-html"><span class="hljs-doctype">&lt;!DOCTYPE html&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">html</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">head</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">title</span>&gt;</span>Hi<span class="hljs-tag">&lt;/<span class="hljs-title">title</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">my-custom-directive</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-title">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">html</span>&gt;</span>
</code></pre>
<p>It yells at me about using a non-standard attribute -- one that doesn&apos;t come built-in-with HTML. You can &apos;fake out&apos; the validator by putting <code>data-</code> in front of the attribute:</p>
<p><code>&lt;div data-my-custom-directive&gt;&lt;/div&gt;</code></p>
<p>This doesn&apos;t affect the behavior of the attribute at all -- Angular just ignored the <code>data-</code>.</p>
<p>This is <strong>good, standard practice</strong> because it makes any custom HTML you created -- which could potentially disrupt other components on a page -- much more visible to other developers.</p>
<p>Similarly, the HTML validator doesn&apos;t like custom elements, and you <strong>can&apos;t</strong> just add <code>data-</code> before them to make them work. <code>&lt;grumble&gt;</code> doesn&apos;t validate, and neither does <code>&lt;data-grumble&gt;</code>. So <code>replace</code> makes it easier to keep your HTML validated.</p>
<h3 id="writing-html-inside-a-javascript-file-is-kind-of-annoying">Writing HTML inside a Javascript file is kind of annoying</h3>
<p>Angular lets you put all the HTML inside a completely different file using <code>templateUrl</code> instead of <code>template</code>.</p>
<p>First, make a file inside the <code>js/grumbles</code> folder called <code>_grumble_show.html</code>. Rails convention for partials is to put an underscore <code>_</code> at the beginning of their file name, so we may as well do that here. Inside it, put:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-title">h1</span>&gt;</span>Hi there, {{myName}}!<span class="hljs-tag">&lt;/<span class="hljs-title">h1</span>&gt;</span>
</code></pre>
<p>Now, replace <code>template</code> in the directive&apos;s JS file with <code>templateUrl</code> and a link to the <code>_grumble_show.html</code> file <em>relative the main <code>index.html</code> file</em>:</p>
<pre><code class="lang-js">(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
  angular
  .module(<span class="hljs-string">&apos;grumbles&apos;</span>)
  .directive(<span class="hljs-string">&apos;myCustomDirective&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-keyword">return</span> {
      templateUrl: <span class="hljs-string">&apos;js/grumbles/_grumble_show.html&apos;</span>,
      replace: <span class="hljs-literal">true</span>,
      link: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">scope</span>)</span>{
        scope.myName = <span class="hljs-string">&apos;Slim Shady&apos;</span>;
      }
    }
  });
})();
</code></pre>
<h2 id="making-a-more-useful-directive">Making a more useful directive</h2>
<p>What I&apos;d like to use for my template is the HTML that&apos;s used for showing the information about a grumble. That is: the HTML that&apos;s identical between <code>index</code> and <code>show</code>. We&apos;ll make a directive with this as a template.</p>
<p>For now, we&apos;ll leave <code>show</code> alone and just get this working in <code>index</code>.</p>
<p>Cut and paste into <code>_grumble_show.html</code> from <code>index.html</code> the HTML that you want to be repeated for each Grumble. Your <code>_grumble_show.html</code> should look something like this:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">&quot;grumble&quot;</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">p</span>&gt;</span>{{grumble.title}}<span class="hljs-tag">&lt;/<span class="hljs-title">p</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">p</span>&gt;</span>{{grumble.authorName}}<span class="hljs-tag">&lt;/<span class="hljs-title">p</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">p</span>&gt;</span>{{grumble.photoUrl}}<span class="hljs-tag">&lt;/<span class="hljs-title">p</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">p</span>&gt;</span>{{grumble.content}}<span class="hljs-tag">&lt;/<span class="hljs-title">p</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
</code></pre>
<p>The next step is to make <code>grumble</code> available inside the partial. If you look at the partial&apos;s HTML, there&apos;s a whole lot of <code>grumble.title</code> and <code>grumble.id</code> and so on. We need to &apos;pass in&apos; that <code>grumble.</code>, which we can do with an attribute.</p>
<p>In <code>index.html</code>, in the space left by all the HTML you cut out, put:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-title">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">grumble-show</span> <span class="hljs-attribute">data-grumble</span>=<span class="hljs-value">&apos;grumble&apos;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">grumble</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
</code></pre>
<p>Now I need to make that grumble available inside the partial&apos;s HTML. I do this by setting <code>scope.grumble</code> equal to the grumble we passed in via the attributes:</p>
<pre><code class="lang-js">(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
  angular
  .module(<span class="hljs-string">&apos;grumbles&apos;</span>)
  .directive(<span class="hljs-string">&apos;grumbleShow&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-keyword">return</span> {
      templateUrl: <span class="hljs-string">&apos;js/grumbles/_grumble_show.html&apos;</span>,
      replace: <span class="hljs-literal">true</span>,
      scope: {
        grumble: <span class="hljs-string">&apos;@&apos;</span>
      }
    }
  });
})();
</code></pre>
<p>It didn&apos;t do anything! If we add <code>{{grumble}}</code> to the <code>index.html</code> all we get is the word &apos;grumble&apos;.</p>
<p>This is because <code>grumble</code> is an <em>object</em>. The <code>@</code> in <code>scope</code> is for passing strings. If you want to pass an object, use <code>=</code>.</p>
<pre><code class="lang-js">(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
  angular
  .module(<span class="hljs-string">&quot;grumbles&quot;</span>)
  .directive(<span class="hljs-string">&quot;grumbleShow&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-keyword">return</span> {
      templateUrl: <span class="hljs-string">&apos;views/grumbles/_grumble_show.html&apos;</span>,
      replace: <span class="hljs-literal">true</span>,
      scope: {
        grumble: <span class="hljs-string">&apos;=&apos;</span>
      }
    }
  });
})();
</code></pre>
<p><code>js/index.html</code> should look like this:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-title">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">a</span> <span class="hljs-attribute">data-ui-sref</span>=<span class="hljs-value">&apos;grumbleNew()&apos;</span>&gt;</span>New Grumble<span class="hljs-tag">&lt;/<span class="hljs-title">a</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">&apos;grumbles&apos;</span> <span class="hljs-attribute">ng-repeat</span>=<span class="hljs-value">&apos;grumble in GrumbleIndexViewModel.grumbles&apos;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">grumble-show</span> <span class="hljs-attribute">data-grumble</span>=<span class="hljs-value">&apos;grumble&apos;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">grumble-show</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
</code></pre>
<p>Run it and see what happens.</p>
<p>We&apos;ve effectively created a little widget we can use anywhere on our app!</p>
<h5 id="what-might-be-good-candidates-for-which-to-make-custom-directives-in-the-wild">What might be good candidates for which to make custom directives &apos;in the wild&apos;?</h5>
<ul>
<li>Date picker</li>
<li>Video player</li>
<li>Trello card</li>
</ul>
<h2 id="lets-reuse-the-directive">Let&apos;s re-use the directive</h2>
<p>The whole point of this was to re-use HTML between <code>index.html</code> and <code>show.html</code>. So:</p>
<p>In <code>show.html</code>, delete the HTML that matches the HTML of the custom directive. The directive will fill in that HTML for us now. In its place, put <code>&lt;grumble-show data-grumble=&apos;grumble&apos;&gt;&lt;/grumble-show&gt;</code>.</p>
<h5 id="turn-and-talk-why-doesnt-the-grumble-show-up">Turn and talk: Why doesn&apos;t the grumble show up?</h5>
<p>Looking at the <code>show.html</code> page, all of the grumble data comes from <code>GrumbleShowViewModel.grumble</code>. Looking at the <code>_grumble_show.html</code> page, all of the data comes from just <code>grumble</code>.</p>
<p>So let&apos;s correct how we call the directive in the show page to reference the correct grumble object.</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-title">grumble-show</span> <span class="hljs-attribute">data-grumble</span>=<span class="hljs-value">&apos;GrumbleShowViewModel.grumble&apos;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">grumble-show</span>&gt;</span>
</code></pre>
<h2 id="you-do--the-same-for-edit-and-new">You Do - the same for <code>edit</code> and <code>new</code></h2>
<p>To start, create a new file for your directive. Maybe something like <code>js/grumbles/form.directive.js</code>. Add something like this:</p>
<pre><code class="lang-js">(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
  angular
  .module(<span class="hljs-string">&apos;grumbles&apos;</span>)
  .directive(<span class="hljs-string">&apos;grumbleForm&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-keyword">return</span> {
      templateUrl: <span class="hljs-string">&apos;js/grumbles/_grumble_form.html&apos;</span>,
      replace: <span class="hljs-literal">true</span>,
      scope: {
        grumble: <span class="hljs-string">&apos;=&apos;</span>
      }
    }
  });
})();
</code></pre>
<p>Put your partial in a file called <code>js/grumbles/_grumble_form.html</code>.</p>
<p><strong>Note:</strong> Don&apos;t worry about getting the &apos;Save&apos; and &apos;New Grumble&apos; buttons to work; just focus on getting the form to show up properly.</p>
<p><strong>Note:</strong> Your partial shouldn&apos;t have any references to controllers in it -- just <code>grumble</code>. Delete any references to controllers.</p>
<h3 id="by-the-end">By the end:</h3>
<p><code>new.html</code> should be:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-title">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">grumble-form</span> <span class="hljs-attribute">data-grumble</span>=<span class="hljs-value">&apos;GrumbleNewViewModel.grumble&apos;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">grumble-form</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
</code></pre>
<p><code>edit.html</code> should be:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-title">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">grumble-form</span> <span class="hljs-attribute">data-grumble</span>=<span class="hljs-value">&apos;GrumbleEditViewModel.grumble&apos;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">grumble-form</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
</code></pre>
<p><code>_grumble_form.html</code> should be something like:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-title">form</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">&apos;text&apos;</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">&apos;title&apos;</span> <span class="hljs-attribute">ng-model</span>=<span class="hljs-value">&apos;grumble.title&apos;</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">&apos;text&apos;</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">&apos;authorName&apos;</span> <span class="hljs-attribute">ng-model</span>=<span class="hljs-value">&apos;grumble.authorName&apos;</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">textarea</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">&apos;content&apos;</span> <span class="hljs-attribute">ng-model</span>=<span class="hljs-value">&apos;grumble.content&apos;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">textarea</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">&apos;text&apos;</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">&apos;photoUrl&apos;</span> <span class="hljs-attribute">ng-model</span>=<span class="hljs-value">&apos;grumble.photoUrl&apos;</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">a</span> <span class="hljs-attribute">data-ui-sref</span>=<span class="hljs-value">&apos;grumbleShow({id: grumble.id})&apos;</span>&gt;</span>&amp;larr; Back<span class="hljs-tag">&lt;/<span class="hljs-title">a</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">button</span> <span class="hljs-attribute">ng-click</span>=<span class="hljs-value">&apos;update()&apos;</span>&gt;</span>Save<span class="hljs-tag">&lt;/<span class="hljs-title">button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">form</span>&gt;</span>
</code></pre>
<h3 id="what-about-the-buttons">What about the buttons?</h3>
<p>We either have to have the Back/Save buttons or the &apos;New grumble&apos; button or all three.</p>
<p>Your best bet is to have all three, and then to show or hide particular buttons based on whether the user&apos;s on <code>new</code> or <code>edit</code>.</p>
<h5 id="how-might-you-conditionally-hide-buttons">How might you conditionally hide buttons?</h5>
<p>Add an attribute called <code>form-type</code> to the directive element:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-title">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">grumble-form</span> <span class="hljs-attribute">data-grumble</span>=<span class="hljs-value">&apos;GrumbleEditViewModel.grumble&apos;</span> <span class="hljs-attribute">data-form-type</span>=<span class="hljs-value">&apos;edit&apos;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">grumble-form</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
</code></pre>
<p>...and be able to add it to scope in the directive Javascript:</p>
<pre><code class="lang-js"><span class="hljs-comment">// form.directive.js</span>

(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
  angular
  .module(<span class="hljs-string">&quot;grumbles&quot;</span>)
  .directive(<span class="hljs-string">&apos;grumbleForm&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-keyword">return</span> {
      templateUrl: <span class="hljs-string">&apos;js/grumbles/_grumble_form.html&apos;</span>,
      replace: <span class="hljs-literal">true</span>,
      scope: {
        grumble: <span class="hljs-string">&apos;=&apos;</span>,
        formType: <span class="hljs-string">&apos;&apos;</span>
      }
    }
  })
})()
</code></pre>
<h5 id="should-formtype-be--or-">Should formType be <code>@</code> or <code>=</code>?</h5>
<p>Then, show or hide the buttons based on the value of formType:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-title">form</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">&apos;text&apos;</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">&apos;title&apos;</span> <span class="hljs-attribute">ng-model</span>=<span class="hljs-value">&apos;grumble.title&apos;</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">&apos;text&apos;</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">&apos;authorName&apos;</span> <span class="hljs-attribute">ng-model</span>=<span class="hljs-value">&apos;grumble.authorName&apos;</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">textarea</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">&apos;content&apos;</span> <span class="hljs-attribute">ng-model</span>=<span class="hljs-value">&apos;grumble.content&apos;</span>&gt;</span>new grumble content<span class="hljs-tag">&lt;/<span class="hljs-title">textarea</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">&apos;text&apos;</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">&apos;photoUrl&apos;</span> <span class="hljs-attribute">ng-model</span>=<span class="hljs-value">&apos;grumble.photoUrl&apos;</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">ng-show</span>=<span class="hljs-value">&quot;formType == &apos;edit&apos;&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">a</span> <span class="hljs-attribute">data-ui-sref</span>=<span class="hljs-value">&apos;grumbleShow({id: grumble.id})&apos;</span>&gt;</span>&amp;larr; Back<span class="hljs-tag">&lt;/<span class="hljs-title">a</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">button</span> <span class="hljs-attribute">ng-click</span>=<span class="hljs-value">&apos;update()&apos;</span>&gt;</span>Save<span class="hljs-tag">&lt;/<span class="hljs-title">button</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">ng-show</span>=<span class="hljs-value">&quot;formType == &apos;new&apos;&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">button</span> <span class="hljs-attribute">ng-click</span>=<span class="hljs-value">&apos;create()&apos;</span>&gt;</span>New Grumble<span class="hljs-tag">&lt;/<span class="hljs-title">button</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">form</span>&gt;</span>
</code></pre>
<h2 id="substituting-directives-for-controllers">Substituting directives for controllers</h2>
<p>The problem now is that clicking on &apos;New Grumble&apos; doesn&apos;t do anything.</p>
<h5 id="why-doesnt-clicking-new-grumble-do-anything">Why doesn&apos;t clicking &apos;New Grumble&apos; do anything?</h5>
<p>We don&apos;t have a <code>create()</code> method defined inside the partial.</p>
<p>It <em>is</em> defined inside <code>GrumbleNewController</code>:</p>
<pre><code class="lang-js"><span class="hljs-keyword">this</span>.create = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
  <span class="hljs-keyword">this</span>.grumble.$save()
}
</code></pre>
<p>I can remove it from the controller and plunk it right in the directive:</p>
<pre><code class="lang-js">(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
  angular
  .module(<span class="hljs-string">&quot;grumbles&quot;</span>)
  .directive(<span class="hljs-string">&apos;grumbleForm&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-keyword">return</span> {
      templateUrl: <span class="hljs-string">&apos;js/grumbles/_grumble_form.html&apos;</span>,
      replace: <span class="hljs-literal">true</span>,
      scope: {
        grumble: <span class="hljs-string">&apos;=&apos;</span>,
        formType: <span class="hljs-string">&apos;@&apos;</span>
      },
      link: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">scope</span>)</span>{
        <span class="hljs-keyword">this</span>.create = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
          <span class="hljs-keyword">this</span>.grumble.$save()
        }
      }
    }
  })
})();
</code></pre>
<h5 id="turn-and-talk-what-needs-to-change-for-this-method-to-work-there-are-2-things">Turn and talk: what needs to change for this method to work? There are 2 things.</h5>
<ul>
<li><code>this</code> needs to be changed to <code>scope</code>.</li>
<li><code>$state</code> and <code>GrumbleFactory</code> are dependencies that have to be injected.</li>
</ul>
<pre><code class="lang-js">.directive(<span class="hljs-string">&apos;grumbleForm&apos;</span>,[
  <span class="hljs-string">&apos;$state&apos;</span>,
  <span class="hljs-string">&apos;GrumbleFactory&apos;</span>,
  <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">$state, Grumble</span>)</span>{
    <span class="hljs-keyword">return</span> {
      templateUrl: <span class="hljs-string">&apos;js/grumbles/_grumble_form.html&apos;</span>,
      replace: <span class="hljs-literal">true</span>,
      scope: {
        grumble: <span class="hljs-string">&apos;=&apos;</span>,
        formType: <span class="hljs-string">&apos;@&apos;</span>
      },
      link: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">scope</span>)</span>{
        scope.create = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
          scope.grumble.$save(scope.grumble, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">grumble</span>) </span>{
            $state.go(<span class="hljs-string">&apos;grumbleShow&apos;</span>, grumble);
          });
        }
      }
    }
  }]
);
</code></pre>
<p>...and when I try to save a Grumble, it works!</p>
<h3 id="you-do">You do:</h3>
<p>Implement Update functionality in the form directive (<code>form.directive.js</code>).</p>
<h3 id="the-last-thing-to-change-is-this-ugly-directive">The last thing to change is this ugly directive</h3>
<p>The directive has way too many brackets.</p>
<h5 id="refactor-the-directive-so-there-arent-so-many-nested-brackets">Refactor the directive so there aren&apos;t so many nested brackets</h5>
<p>One attempt:</p>
<pre><code class="lang-js">.directive(<span class="hljs-string">&apos;grumbleForm&apos;</span>,[<span class="hljs-string">&apos;$state&apos;</span>, <span class="hljs-string">&apos;GrumbleFactory&apos;</span>, grumbleForm]);

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">grumbleForm</span>(<span class="hljs-params">$state, GrumbleFactory</span>)</span>{
  <span class="hljs-keyword">return</span> {
    templateUrl: <span class="hljs-string">&apos;views/grumbles/_grumble_form.html&apos;</span>,
    replace: <span class="hljs-literal">true</span>,
    scope: {
      grumble: <span class="hljs-string">&apos;=&apos;</span>,
      formType: <span class="hljs-string">&apos;@&apos;</span>
    },
    link: linkFunction
  }
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">linkFunction</span>(<span class="hljs-params">scope</span>)</span>{
    scope.create = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
      GrumbleFactory.save(scope.grumble, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">grumble</span>) </span>{
        $state.go(<span class="hljs-string">&apos;/grumbles/&apos;</span> + grumble.id);
      });
    }
  }
}
</code></pre>
<p>Going along in this vein, <strong>we don&apos;t need to have controllers at all</strong> for these views.</p>
<h3 id="skinny-controllers">Skinny controllers</h3>
<p>Angular&apos;s all about having skinny controllers, in the same way that Rails likes skinny controllers and fat models.</p>
<p>My <a href="https://github.com/ga-dc/grumblr_angular/tree/gh-pages" target="_blank">completed version of this app</a> has a grand total of one controller, used just to load all the Grumbles. Everything else is in directives.</p>
<p>A &apos;soft&apos; rule or guideline for when to use directives or controllers is:</p>
<blockquote>
<p>Controllers should be used when you want to do something to a bunch of instances
Directives should be used when you want to do something to one particular instance</p>
</blockquote>
<h2 id="weve-covered-four-options">We&apos;ve covered four &apos;options&apos;:</h2>
<ul>
<li><code>restrict: &apos;EACM&apos;</code></li>
<li><code>replace</code></li>
<li><code>template</code> and <code>templateUrl</code></li>
<li><code>link</code></li>
</ul>
<p>There <em>are</em> conventions that you can adhere to, which would be a good idea for maximum readability:</p>
<p><a href="https://github.com/johnpapa/angular-styleguide" target="_blank">https://github.com/johnpapa/angular-styleguide</a></p>
<p>BONUS: Take that and make it look pretty!</p>
<h2 id="review-questions">Review questions</h2>
<ul>
<li>What does the mnemonic &apos;MACE&apos; stand for?<ul>
<li>Comment, Attribute, Class, Element</li>
</ul>
</li>
<li>What&apos;s the difference between <code>template</code> and <code>templateUrl</code>?<ul>
<li><code>template</code> uses a string as a template; <code>templateUrl</code> uses a whole file</li>
</ul>
</li>
<li>What&apos;s the difference between <code>@</code> and <code>=</code>?<ul>
<li>Use <code>@</code> for strings and &apos;hard&apos; data, use <code>=</code> for objects</li>
</ul>
</li>
<li>In the Grumblr app, should you have a <code>directives</code> folder with <code>grumbleDirectives.js</code> and <code>commentDirectives.js</code> inside it, or a <code>grumble</code> folder with <code>grumbleDirectives.js</code> inside it and a <code>comment</code> folder with <code>commentDirectives.js</code> inside it?<ul>
<li>It&apos;s your choice! But it&apos;s becoming more convention to do it the second way and organize files by the model to which they refer, rather than by the type of file.</li>
</ul>
</li>
<li>If I&apos;m making a &apos;grumble cake&apos; custom directive, should I write it <code>grumble-cake</code> in the directive file and <code>&lt;grumbleCake&gt;</code> in the HTML, or the other way around?<ul>
<li>The other way around.</li>
</ul>
</li>
<li>What&apos;s the purpose of the <code>link</code> property of a directive?<ul>
<li>You can define scope variables inside it -- that is, the data that&apos;s available inside your custom directive. Putting <code>scope.name = &apos;Steve&apos;</code> inside <code>link</code> means you can use `` inside your directive&apos;s template.</li>
</ul>
</li>
</ul>
<h2 id="resources">Resources:</h2>
<ul>
<li><a href="https://docs.angularjs.org/guide/directive" target="_blank">The Docs</a></li>
<li>The <a href="https://github.com/johnpapa/angular-styleguide" target="_blank">John Papa Style Guide</a></li>
<li>Directive <a href="http://stackoverflow.com/questions/21712147/angularjs-differences-among-in-directive-scope" target="_blank">isolate scope discussion</a></li>
<li>Example of directive <a href="%22./at_vs_equal_vs_amp.html%22">isolate scope</a></li>
</ul>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../../10-angular/readme.html" class="navigation navigation-prev " aria-label="Previous page: MVW with Angular"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../../10-angular/firebase_in_angular/readme.html" class="navigation navigation-next " aria-label="Next page: AngularFire: Firebase &amp; Angular"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../../gitbook/app.js"></script>

    
    <script src="../../gitbook/plugins/gitbook-plugin-search/lunr.min.js"></script>
    

    
    <script src="../../gitbook/plugins/gitbook-plugin-search/search.js"></script>
    

    
    <script src="../../gitbook/plugins/gitbook-plugin-sharing/buttons.js"></script>
    

    
    <script src="../../gitbook/plugins/gitbook-plugin-fontsettings/buttons.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"highlight":{},"search":{"maxIndexSize":1000000},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
